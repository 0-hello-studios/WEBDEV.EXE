<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title>WEBDEV.EXE</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;600;700&family=DM+Sans:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&family=Outfit:wght@400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&family=Bebas+Neue&family=Playfair+Display:wght@400;700;800&family=Inter:wght@400;500;600;700&family=Nunito:wght@400;500;600;700&family=Work+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles/theme.css">
  <link rel="stylesheet" href="styles/workspace.css">
  <link rel="stylesheet" href="styles/components.css">
</head>
<body>
<div class="toast" id="toast"></div>

<!-- TOPBAR -->
<div class="topbar">
<div class="tb-row1">
<h1>WEBDEV<span>.EXE</span></h1>
<div class="sep"></div>
<button class="abtn" onclick="openModule('text')"><span class="dot" style="background:#8b8bf0"></span>Text</button>
<button class="abtn" onclick="openModule('color')"><span class="dot" style="background:#d080a0"></span>Color</button>
<button class="abtn" onclick="openModule('effects')"><span class="dot" style="background:#60b8c8"></span>Effects</button>
<button class="abtn" onclick="openModule('shape')"><span class="dot" style="background:#60c890"></span>Shape</button>
<button class="abtn" onclick="openModule('layout')"><span class="dot" style="background:#d0a860"></span>Layout</button>
<button class="abtn" onclick="openModule('animate')"><span class="dot" style="background:#d07070"></span>Animate</button>
<button class="abtn" onclick="openModule('export')"><span class="dot" style="background:#9080d0"></span>Export</button>
<button class="abtn" onclick="openModule('code')"><span class="dot" style="background:#707880"></span>Code</button>
<div class="spacer"></div>
<button class="xbtn" onclick="openPreview()" style="border-color:var(--green);color:var(--green)">PREVIEW</button>
<button class="xbtn" onclick="exportPage()">EXPORT HTML</button>
<button class="abtn" onclick="toggleSettings()" id="btn-settings" style="font-size:10px;padding:3px 6px" title="Settings">⚙</button>
<button class="abtn" onclick="openLearn()" style="font-size:10px;padding:3px 8px;border-color:rgba(124,138,240,.3);color:var(--acc)" title="Learn">?</button>
</div>
<div id="settings-overlay" onclick="toggleSettings()" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.3);z-index:199"></div>
<div id="settings-panel" style="position:fixed;top:0;right:-280px;bottom:0;width:280px;background:var(--surface);border-left:1px solid var(--border);z-index:200;box-shadow:-4px 0 24px rgba(0,0,0,.3);display:flex;flex-direction:column;transition:right .2s ease">
<!-- Header -->
<div style="display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--border);flex-shrink:0">
<span style="font-family:var(--mono);font-size:10px;font-weight:600;color:var(--text);letter-spacing:.5px">Settings</span>
<button onclick="toggleSettings()" style="background:none;border:1px solid var(--border);color:var(--dim);font-size:9px;width:20px;height:20px;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center">✕</button>
</div>
<!-- Scrollable body -->
<div style="flex:1;overflow-y:auto;padding:14px 16px;scrollbar-width:thin">
<!-- Themes -->
<div style="font-family:var(--mono);font-size:7px;font-weight:600;color:var(--dim);letter-spacing:1.5px;text-transform:uppercase;margin-bottom:10px">Theme</div>
<div style="display:flex;gap:3px;margin-bottom:12px">
<button class="theme-cat-btn" data-cat="all" onclick="filterThemes('all',this)" style="font-family:var(--mono);font-size:7px;padding:3px 10px;border:1px solid var(--acc);border-radius:3px;background:rgba(124,138,240,.08);color:var(--acc);cursor:pointer;transition:all .12s">All</button>
<button class="theme-cat-btn" data-cat="dark" onclick="filterThemes('dark',this)" style="font-family:var(--mono);font-size:7px;padding:3px 10px;border:1px solid var(--border);border-radius:3px;background:transparent;color:var(--dim);cursor:pointer;transition:all .12s">Dark</button>
<button class="theme-cat-btn" data-cat="vibrant" onclick="filterThemes('vibrant',this)" style="font-family:var(--mono);font-size:7px;padding:3px 10px;border:1px solid var(--border);border-radius:3px;background:transparent;color:var(--dim);cursor:pointer;transition:all .12s">Vibrant</button>
<button class="theme-cat-btn" data-cat="light" onclick="filterThemes('light',this)" style="font-family:var(--mono);font-size:7px;padding:3px 10px;border:1px solid var(--border);border-radius:3px;background:transparent;color:var(--dim);cursor:pointer;transition:all .12s">Light</button>
</div>
<div id="theme-list" style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:5px"></div>
<!-- Interface -->
<div style="border-top:1px solid var(--border);margin-top:16px;padding-top:16px">
<div style="font-family:var(--mono);font-size:7px;font-weight:600;color:var(--dim);letter-spacing:1.5px;text-transform:uppercase;margin-bottom:12px">Interface</div>
<div style="display:flex;flex-direction:column;gap:10px">
<div style="display:flex;align-items:center;justify-content:space-between"><label style="font-size:9px;margin:0">Grid Dots</label><input type="checkbox" id="set-grid" checked onchange="toggleGrid(this.checked)" style="width:14px;height:14px;accent-color:var(--acc)"></div>
<div style="display:flex;align-items:center;justify-content:space-between"><label style="font-size:9px;margin:0">Snap to Grid</label><input type="checkbox" id="set-snap" onchange="if(this.checked!==snapGrid)toggleSnap()" style="width:14px;height:14px;accent-color:var(--acc)"></div>
<div style="display:flex;align-items:center;justify-content:space-between"><label style="font-size:9px;margin:0">Canvas Width</label><select onchange="setCanvasWidth(this.value)" style="width:90px;font-size:9px;padding:3px 6px"><option value="1280" selected>1280px</option><option value="1440">1440px</option><option value="1920">1920px</option><option value="960">960px</option><option value="768">768px</option><option value="390">390px</option></select></div>
</div>
</div>
<!-- Workspace -->
<div style="border-top:1px solid var(--border);margin-top:16px;padding-top:16px">
<div style="font-family:var(--mono);font-size:7px;font-weight:600;color:var(--dim);letter-spacing:1.5px;text-transform:uppercase;margin-bottom:12px">Workspace</div>
<div style="display:flex;flex-direction:column;gap:10px">
<div style="display:flex;align-items:center;justify-content:space-between"><label style="font-size:9px;margin:0">Background</label><input type="color" id="ws-bg-color" value="#0a0a0e" oninput="setWsBg()" style="width:28px;height:20px;border-radius:3px;padding:1px;border:1px solid var(--border);cursor:pointer"></div>
<div><label style="font-size:9px;margin:0 0 6px">Texture</label>
<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:3px;margin-top:4px">
<div class="ws-tex-opt active" data-tex="dots" onclick="setWsTex('dots',this)" title="Dots"><svg viewBox="0 0 24 24" style="width:100%;height:100%"><circle cx="6" cy="6" r="1" fill="currentColor" opacity=".4"/><circle cx="18" cy="6" r="1" fill="currentColor" opacity=".4"/><circle cx="6" cy="18" r="1" fill="currentColor" opacity=".4"/><circle cx="18" cy="18" r="1" fill="currentColor" opacity=".4"/><circle cx="12" cy="12" r="1" fill="currentColor" opacity=".4"/></svg></div>
<div class="ws-tex-opt" data-tex="grid" onclick="setWsTex('grid',this)" title="Grid"><svg viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M0 8h24M0 16h24M8 0v24M16 0v24" stroke="currentColor" stroke-width=".5" opacity=".3" fill="none"/></svg></div>
<div class="ws-tex-opt" data-tex="cross" onclick="setWsTex('cross',this)" title="Cross"><svg viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M10 12h4M12 10v4" stroke="currentColor" stroke-width=".7" opacity=".35" fill="none"/></svg></div>
<div class="ws-tex-opt" data-tex="lines" onclick="setWsTex('lines',this)" title="Lines"><svg viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M0 6h24M0 12h24M0 18h24" stroke="currentColor" stroke-width=".5" opacity=".25" fill="none"/></svg></div>
<div class="ws-tex-opt" data-tex="diag" onclick="setWsTex('diag',this)" title="Diagonal"><svg viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M0 24L24 0M-6 18L18-6M6 30L30 6" stroke="currentColor" stroke-width=".4" opacity=".2" fill="none"/></svg></div>
<div class="ws-tex-opt" data-tex="iso" onclick="setWsTex('iso',this)" title="Isometric"><svg viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M0 12l12-7 12 7M0 12l12 7 12-7" stroke="currentColor" stroke-width=".5" opacity=".25" fill="none"/></svg></div>
<div class="ws-tex-opt" data-tex="noise" onclick="setWsTex('noise',this)" title="Noise"><svg viewBox="0 0 24 24" style="width:100%;height:100%"><circle cx="3" cy="5" r=".6" fill="currentColor" opacity=".2"/><circle cx="15" cy="7" r=".5" fill="currentColor" opacity=".25"/><circle cx="6" cy="11" r=".5" fill="currentColor" opacity=".2"/><circle cx="18" cy="11" r=".6" fill="currentColor" opacity=".22"/><circle cx="10" cy="21" r=".5" fill="currentColor" opacity=".2"/></svg></div>
<div class="ws-tex-opt" data-tex="none" onclick="setWsTex('none',this)" title="None"><svg viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width=".7" opacity=".25" fill="none"/></svg></div>
</div>
</div>
<div style="display:flex;align-items:center;justify-content:space-between"><label style="font-size:9px;margin:0">Size</label><input type="range" id="ws-tex-size" min="10" max="60" value="20" oninput="setWsBg()" style="width:100px;margin:0"></div>
<div style="display:flex;align-items:center;justify-content:space-between"><label style="font-size:9px;margin:0">Opacity</label><input type="range" id="ws-tex-op" min="1" max="15" value="2" oninput="setWsBg()" style="width:100px;margin:0"></div>
<div style="display:flex;gap:3px;flex-wrap:wrap" id="ws-presets"></div>
</div>
</div>
</div>
<div style="padding:10px 16px;border-top:1px solid var(--border);flex-shrink:0">
<div style="font-family:var(--mono);font-size:7px;color:var(--dim);text-align:center;letter-spacing:.5px">WEBDEV.EXE — 0-HELLO Studios</div>
</div>
</div>
<div class="tb-row2">
<span class="catl">MODE</span>
<div class="sep" style="height:12px"></div>
<button class="abtn mode-btn active" data-mode="select" onclick="setMode('select')">Select</button>
<button class="abtn mode-btn" data-mode="draw" onclick="setMode('draw')">Draw</button>
<button class="abtn mode-btn" data-mode="text" onclick="setMode('text')">Text</button>
<div class="sep" style="height:12px"></div>
<span class="catl">ROLE</span>
<select id="draw-role" style="padding:2px 6px;font-size:8px;width:80px;font-family:var(--mono)">
<option value="frame">Frame</option>
<option value="text">Text</option>
<option value="heading">Heading</option>
<option value="button">Button</option>
<option value="image">Image</option>
<option value="link">Link</option>
<option value="input">Input</option>
<option value="icon">Icon</option>
</select>
<button class="abtn" onclick="imgInsert()" title="Upload Image">IMG</button>
<div class="sep" style="height:12px"></div>
<span class="catl">SNAP</span>
<button class="abtn" id="snap-btn" onclick="toggleSnap()" style="font-size:7px">Grid: ON</button>
<div class="sep" style="height:12px"></div>
<button class="abtn" onclick="undo()" title="Undo (Ctrl+Z)" id="btn-undo" style="opacity:.3">↶</button>
<button class="abtn" onclick="redo()" title="Redo (Ctrl+Y)" id="btn-redo" style="opacity:.3">↷</button>
<div class="spacer"></div>
<span id="sel-info" style="font-size:7px;color:var(--dim);font-family:var(--mono);letter-spacing:.5px">No selection</span>
<button class="abtn" id="desel-btn" onclick="clearSelection()" style="display:none;border-color:rgba(168,85,247,.4);color:#a855f7;font-weight:800;font-size:9px;padding:4px 10px">ESC</button>
<select id="sel-type" onchange="reTypeBlock(this.value)" style="display:none;font-size:7px;padding:0 2px;background:rgba(168,85,247,.12);border:1px solid rgba(168,85,247,.3);border-radius:3px;color:#a855f7;font-family:var(--mono);font-weight:700;cursor:pointer;max-width:60px;height:16px">
<option>frame</option><option>heading</option><option>text</option><option>button</option><option>link</option><option>image</option><option>input</option><option>icon</option><option>nav</option><option>section</option><option>card</option><option>badge</option><option>divider</option><option>video</option>
</select>
<span id="sel-dims" style="font-size:7px;color:var(--dim);font-family:var(--mono)"></span>
<div class="sep" style="height:12px"></div>
<span style="font-size:7px;color:var(--dim)">↻</span>
<input type="number" id="rot-input" value="0" min="-360" max="360" step="15" onchange="setBlockRotation(+this.value)" style="width:40px;font-size:8px;padding:1px 3px;text-align:center;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:3px;color:var(--dim);font-family:var(--mono)">
<span style="font-size:7px;color:var(--dim)">°</span>
<div class="sep" style="height:12px"></div>
<button class="abtn" onclick="moveZ(-1)" title="Send back">↓</button>
<button class="abtn" onclick="moveZ(1)" title="Bring front">↑</button>
<button class="abtn" onclick="dupBlock()" title="Duplicate">+</button>
<button class="abtn" onclick="delBlock()" title="Delete" style="border-color:rgba(239,68,68,.3);color:rgba(239,68,68,.6)">✕</button>
</div>
</div>

<!-- WORKSPACE -->
<input type="file" id="dk-img-upload" accept="image/*" onchange="imgUpload(this)" style="display:none">
<div class="workspace" id="workspace" style="background-image:radial-gradient(circle,rgba(255,255,255,.03) 1px,transparent 1px);background-size:20px 20px">
<div class="ws-inner" id="wsI">
</div>
<div class="ws-scroll-h" id="wsScrollH"><div class="ws-thumb" id="wsThumbH"></div></div>
<div class="ws-scroll-v" id="wsScrollV"><div class="ws-thumb" id="wsThumbV"></div></div>
<div class="ws-scroll-corner"></div>
</div>

<!-- LP DESIGN TOKENS (hidden, accessed by theme system) -->
<div id="lp-bar" style="display:none">
<input type="color" id="lp-primary" value="#a855f7" oninput="updateLP()">
<input type="color" id="lp-secondary" value="#ec4899" oninput="updateLP()">
<input type="color" id="lp-accent" value="#06b6d4" oninput="updateLP()">
<input type="color" id="lp-bgc" value="#09090f" oninput="updateLP()">
<input type="color" id="lp-surface" value="#12121a" oninput="updateLP()">
<input type="color" id="lp-text" value="#f0f0f5" oninput="updateLP()">
<select id="lp-headfont" onchange="updateLP()"><option value="Syne">Syne</option><option value="Space Grotesk">Space Grotesk</option><option value="Playfair Display">Playfair</option><option value="Outfit">Outfit</option><option value="Poppins">Poppins</option><option value="system-ui,sans-serif">System</option></select>
<select id="lp-bodyfont" onchange="updateLP()"><option value="DM Sans">DM Sans</option><option value="Inter">Inter</option><option value="Nunito">Nunito</option><option value="system-ui,sans-serif">System</option></select>
<input type="range" id="lp-radius" min="0" max="24" value="12" oninput="updateLP()">
</div>


<!-- ═══ TOOL TEMPLATES ═══ -->
<!-- ═══ TOOL TEMPLATES (hidden, cloned into windows) ═══ -->
<template id="tmpl-colormod">
<div class="field"><label>Background</label>
<div style="display:flex;gap:6px;align-items:center">
<input type="color" id="cm-bg" value="#1a1a2e" oninput="cmApply()" onchange="cmApply()" style="width:32px;height:24px;border-radius:4px;padding:1px">
<input type="text" id="cm-bg-hex" value="#1a1a2e" oninput="document.getElementById('cm-bg').value=this.value;cmApply()" onchange="document.getElementById('cm-bg').value=this.value;cmApply()" style="flex:1;font-family:var(--mono);font-size:10px">
<button class="tm-align" onclick="cmClearBg()" title="Clear background" style="font-size:8px;padding:3px 6px">✕</button>
</div>
<div style="display:flex;gap:3px;margin-top:6px" id="cm-bg-swatches">
<div class="tm-swatch" style="background:#0f0f1a" onclick="cmSetBg('#0f0f1a')"></div>
<div class="tm-swatch" style="background:#1a1a2e" onclick="cmSetBg('#1a1a2e')"></div>
<div class="tm-swatch" style="background:#ffffff" onclick="cmSetBg('#ffffff')"></div>
<div class="tm-swatch" style="background:#a855f7" onclick="cmSetBg('#a855f7')"></div>
<div class="tm-swatch" style="background:#ec4899" onclick="cmSetBg('#ec4899')"></div>
<div class="tm-swatch" style="background:#06b6d4" onclick="cmSetBg('#06b6d4')"></div>
<div class="tm-swatch" style="background:#10b981" onclick="cmSetBg('#10b981')"></div>
<div class="tm-swatch" style="background:#f59e0b" onclick="cmSetBg('#f59e0b')"></div>
<div class="tm-swatch" style="background:#ef4444" onclick="cmSetBg('#ef4444')"></div>
</div>
</div>
<div class="field"><label>Gradient Background</label>
<div style="display:flex;gap:4px;align-items:center">
<input type="checkbox" id="cm-grad-on" onchange="cmApply()">
<input type="color" id="cm-grad-c1" value="#a855f7" oninput="cmApply()" style="width:24px;height:20px;border-radius:3px;padding:1px">
<span style="font-size:8px;color:var(--dim)">→</span>
<input type="color" id="cm-grad-c2" value="#ec4899" oninput="cmApply()" style="width:24px;height:20px;border-radius:3px;padding:1px">
<input type="range" id="cm-grad-angle" min="0" max="360" value="135" oninput="document.getElementById('cm-grad-angle-v').textContent=this.value+'°';cmApply()" style="flex:1">
<span id="cm-grad-angle-v" style="font-size:8px;color:var(--acc);font-family:var(--mono);min-width:24px">135°</span>
</div>
<div style="display:flex;gap:4px;margin-top:4px;align-items:center">
<label style="font-size:8px;color:var(--dim);margin:0">Type</label>
<button class="tm-align active" data-v="linear" onclick="cmGradType(this)">Linear</button>
<button class="tm-align" data-v="radial" onclick="cmGradType(this)">Radial</button>
<button class="tm-align" data-v="conic" onclick="cmGradType(this)">Conic</button>
</div>
</div>
<div class="field"><label>Opacity <span id="cm-op-v" style="color:var(--acc)">1</span></label>
<input type="range" id="cm-op" min="0" max="100" value="100" oninput="cmApply()">
</div>
<div style="border-top:1px solid var(--bdr);margin-top:10px;padding-top:10px">
<div class="field"><label style="font-weight:700">Page Theme</label>
<div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:6px">
<div style="display:flex;align-items:center;gap:4px"><input type="color" value="#a855f7" oninput="sv('lp-primary',this.value);updateLP()" id="th-p" style="width:20px;height:16px;border-radius:3px;padding:0"><label>Primary</label></div>
<div style="display:flex;align-items:center;gap:4px"><input type="color" value="#ec4899" oninput="sv('lp-secondary',this.value);updateLP()" id="th-s" style="width:20px;height:16px;border-radius:3px;padding:0"><label>Second</label></div>
<div style="display:flex;align-items:center;gap:4px"><input type="color" value="#06b6d4" oninput="sv('lp-accent',this.value);updateLP()" id="th-a" style="width:20px;height:16px;border-radius:3px;padding:0"><label>Accent</label></div>
<div style="display:flex;align-items:center;gap:4px"><input type="color" value="#09090f" oninput="sv('lp-bgc',this.value);updateLP()" id="th-bg" style="width:20px;height:16px;border-radius:3px;padding:0"><label>BG</label></div>
<div style="display:flex;align-items:center;gap:4px"><input type="color" value="#12121a" oninput="sv('lp-surface',this.value);updateLP()" id="th-sf" style="width:20px;height:16px;border-radius:3px;padding:0"><label>Surface</label></div>
<div style="display:flex;align-items:center;gap:4px"><input type="color" value="#f0f0f5" oninput="sv('lp-text',this.value);updateLP()" id="th-tx" style="width:20px;height:16px;border-radius:3px;padding:0"><label>Text</label></div>
</div>
</div>
<div class="field">
<div style="display:flex;gap:6px;align-items:center">
<div style="flex:1;display:flex;align-items:center;gap:4px"><label>Head</label><select onchange="document.getElementById('lp-headfont').value=this.value;updateLP()" style="flex:1;font-size:9px;padding:2px"><option value="Syne">Syne</option><option value="Space Grotesk">Space Grotesk</option><option value="Playfair Display">Playfair</option><option value="Outfit">Outfit</option><option value="Poppins">Poppins</option><option value="system-ui,sans-serif">System</option></select></div>
<div style="flex:1;display:flex;align-items:center;gap:4px"><label>Body</label><select onchange="document.getElementById('lp-bodyfont').value=this.value;updateLP()" style="flex:1;font-size:9px;padding:2px"><option value="DM Sans">DM Sans</option><option value="Inter">Inter</option><option value="Nunito">Nunito</option><option value="system-ui,sans-serif">System</option></select></div>
</div>
</div>
<div class="field"><label>Radius</label>
<input type="range" min="0" max="24" value="12" oninput="sv('lp-radius',this.value);updateLP()" style="width:100%">
</div>
</div>
</template>

<template id="tmpl-stylemod">
<div class="field"><label>Border</label>
<div style="display:flex;gap:6px;align-items:center">
<input type="checkbox" id="cm-border-on" onchange="cmApply()">
<input type="range" id="cm-border-w" min="1" max="8" value="1" oninput="cmApply()" style="flex:1">
<span id="cm-border-w-v" style="font-size:8px;color:var(--acc);font-family:var(--mono);min-width:16px">1px</span>
<input type="color" id="cm-border-c" value="#a855f7" oninput="cmApply()" style="width:24px;height:20px;border-radius:3px;padding:1px">
</div>
<div style="display:flex;gap:4px;margin-top:4px">
<button class="tm-align active" data-v="solid" onclick="cmBorderStyle(this)">Solid</button>
<button class="tm-align" data-v="dashed" onclick="cmBorderStyle(this)">Dashed</button>
<button class="tm-align" data-v="dotted" onclick="cmBorderStyle(this)">Dotted</button>
</div>
</div>
<div class="field"><label>Border Radius <span id="cm-rad-v" style="color:var(--acc)">8px</span></label>
<input type="range" id="cm-rad" min="0" max="100" value="8" oninput="cmApply()">
</div>
<div class="field"><label>Box Shadow</label>
<div style="display:flex;gap:4px;align-items:center">
<input type="checkbox" id="cm-shad-on" onchange="cmApply()">
<input type="color" id="cm-shad-c" value="#a855f7" oninput="cmApply()" style="width:24px;height:20px;border-radius:3px;padding:1px">
<label style="font-size:8px;color:var(--dim);margin:0">Blur</label>
<input type="range" id="cm-shad-blur" min="0" max="60" value="20" oninput="cmApply()" style="flex:1">
<label style="font-size:8px;color:var(--dim);margin:0">Spread</label>
<input type="range" id="cm-shad-spread" min="-20" max="40" value="0" oninput="cmApply()" style="flex:1">
</div>
<div style="display:flex;gap:4px;margin-top:4px;align-items:center">
<label style="font-size:8px;color:var(--dim);margin:0">X</label>
<input type="range" id="cm-shad-x" min="-40" max="40" value="0" oninput="cmApply()" style="flex:1">
<label style="font-size:8px;color:var(--dim);margin:0">Y</label>
<input type="range" id="cm-shad-y" min="-40" max="40" value="8" oninput="cmApply()" style="flex:1">
</div>
</div>
<div class="field"><label>Backdrop Blur <span id="cm-blur-v" style="color:var(--acc)">0px</span></label>
<input type="range" id="cm-blur" min="0" max="30" value="0" oninput="cmApply()">
</div>
</template>
<template id="tmpl-palette">
<div class="field"><label>Harmony Rule</label><div class="chips" id="pal-mode" data-fn="genPalette">
<div class="chip on" data-v="random">Random</div><div class="chip" data-v="analogous">Analogous</div><div class="chip" data-v="complementary">Complementary</div><div class="chip" data-v="triadic">Triadic</div><div class="chip" data-v="monochromatic">Mono</div><div class="chip" data-v="pastel">Pastel</div><div class="chip" data-v="dark">Dark</div><div class="chip" data-v="neon">Neon</div>
</div></div>
<div class="palette-row" id="pal-row"></div>
<div style="display:flex;gap:6px;margin-top:6px;flex-wrap:wrap" id="pal-locks"></div>
<div class="actions">
<button class="btn btn-primary" onclick="genPalette()">Generate</button>
<button class="btn btn-secondary" onclick="genPalette()">↻ Shuffle</button>
<button class="btn btn-secondary" onclick="applyPaletteAsTheme()" style="border-color:rgba(16,185,129,.4);color:#10b981">Apply as Theme</button>
</div>
<div class="output"><div class="output-bar"><span>CSS Variables</span><button class="btn btn-copy btn-sm" onclick="copyFrom('pal-out',this)">Copy</button></div><div class="output-body" id="pal-out"></div></div>
</template>

<template id="tmpl-gradient">
<div class="field"><label>Type</label><div class="chips" id="grad-type" data-fn="updateGrad">
<div class="chip on" data-v="linear">Linear</div><div class="chip" data-v="radial">Radial</div><div class="chip" data-v="conic">Conic</div>
</div></div>
<div class="row">
<div class="field"><label>Color 1</label><div style="display:flex;gap:8px;align-items:center"><input type="color" id="grad-c1" value="#a855f7"><input type="text" id="grad-c1t" value="#a855f7" style="flex:1" oninput="document.getElementById('grad-c1').value=this.value;updateGrad()"></div></div>
<div class="field"><label>Color 2</label><div style="display:flex;gap:8px;align-items:center"><input type="color" id="grad-c2" value="#ec4899"><input type="text" id="grad-c2t" value="#ec4899" style="flex:1" oninput="document.getElementById('grad-c2').value=this.value;updateGrad()"></div></div>
</div>
<div class="row">
<div class="field"><label>Color 3 (optional)</label><div style="display:flex;gap:8px;align-items:center"><input type="color" id="grad-c3" value="#06b6d4"><input type="text" id="grad-c3t" value="" style="flex:1" placeholder="leave empty for 2 colors"></div></div>
<div class="field"><label>Angle <span id="grad-angle-val" style="color:var(--acc)">135°</span></label><input type="range" id="grad-angle" min="0" max="360" value="135" oninput="updateGrad()"></div>
</div>
<div class="preview-box preview-lg" id="grad-preview" style="border-radius:16px"></div>
<div class="actions">
<button class="btn btn-primary" onclick="randomGrad()">Random</button>
<button class="btn btn-secondary" onclick="copyFrom('grad-out',event.target)">Copy CSS</button>
</div>
<div class="output"><div class="output-bar"><span>CSS Code</span><button class="btn btn-copy btn-sm" onclick="copyFrom('grad-out',this)">Copy</button></div><div class="output-body" id="grad-out"></div></div>
</template>

<template id="tmpl-effectsmod">
<div class="field"><label>Filter: Blur <span id="fx-blur-v" style="color:var(--acc)">0px</span></label>
<input type="range" id="fx-blur" min="0" max="20" value="0" oninput="fxApply()">
</div>
<div class="field"><label>Brightness <span id="fx-bright-v" style="color:var(--acc)">100%</span></label>
<input type="range" id="fx-bright" min="0" max="300" value="100" oninput="fxApply()">
</div>
<div class="field"><label>Contrast <span id="fx-contrast-v" style="color:var(--acc)">100%</span></label>
<input type="range" id="fx-contrast" min="0" max="300" value="100" oninput="fxApply()">
</div>
<div class="field"><label>Saturate <span id="fx-sat-v" style="color:var(--acc)">100%</span></label>
<input type="range" id="fx-sat" min="0" max="300" value="100" oninput="fxApply()">
</div>
<div class="field"><label>Hue Rotate <span id="fx-hue-v" style="color:var(--acc)">0°</span></label>
<input type="range" id="fx-hue" min="0" max="360" value="0" oninput="fxApply()">
</div>
<div style="display:flex;gap:8px">
<div class="field" style="flex:1"><label>Grayscale <span id="fx-gray-v" style="color:var(--acc)">0%</span></label>
<input type="range" id="fx-gray" min="0" max="100" value="0" oninput="fxApply()">
</div>
<div class="field" style="flex:1"><label>Sepia <span id="fx-sepia-v" style="color:var(--acc)">0%</span></label>
<input type="range" id="fx-sepia" min="0" max="100" value="0" oninput="fxApply()">
</div>
<div class="field" style="flex:1"><label>Invert <span id="fx-invert-v" style="color:var(--acc)">0%</span></label>
<input type="range" id="fx-invert" min="0" max="100" value="0" oninput="fxApply()">
</div>
</div>
<div class="field"><label>Transform</label>
<div style="display:flex;gap:6px">
<div style="flex:1"><label style="font-size:8px;color:var(--dim);margin:0">Rotate <span id="fx-rot-v" style="color:var(--acc)">0°</span></label>
<input type="range" id="fx-rot" min="-180" max="180" value="0" oninput="fxApply()">
</div>
<div style="flex:1"><label style="font-size:8px;color:var(--dim);margin:0">Scale <span id="fx-scale-v" style="color:var(--acc)">1.0</span></label>
<input type="range" id="fx-scale" min="10" max="300" value="100" oninput="fxApply()">
</div>
</div>
<div style="display:flex;gap:6px;margin-top:4px">
<div style="flex:1"><label style="font-size:8px;color:var(--dim);margin:0">Skew X <span id="fx-skewx-v" style="color:var(--acc)">0°</span></label>
<input type="range" id="fx-skewx" min="-45" max="45" value="0" oninput="fxApply()">
</div>
<div style="flex:1"><label style="font-size:8px;color:var(--dim);margin:0">Skew Y <span id="fx-skewy-v" style="color:var(--acc)">0°</span></label>
<input type="range" id="fx-skewy" min="-45" max="45" value="0" oninput="fxApply()">
</div>
</div>
</div>
<div class="field"><label>Mix Blend Mode</label>
<select id="fx-blend" onchange="fxApply()">
<option value="normal">Normal</option>
<option value="multiply">Multiply</option>
<option value="screen">Screen</option>
<option value="overlay">Overlay</option>
<option value="darken">Darken</option>
<option value="lighten">Lighten</option>
<option value="color-dodge">Color Dodge</option>
<option value="color-burn">Color Burn</option>
<option value="hard-light">Hard Light</option>
<option value="soft-light">Soft Light</option>
<option value="difference">Difference</option>
<option value="exclusion">Exclusion</option>
<option value="luminosity">Luminosity</option>
</select>
</div>
<div class="field"><label>Overflow</label>
<div style="display:flex;gap:4px">
<button class="tm-align active" data-v="visible" onclick="fxOverflow(this)">Visible</button>
<button class="tm-align" data-v="hidden" onclick="fxOverflow(this)">Hidden</button>
<button class="tm-align" data-v="auto" onclick="fxOverflow(this)">Scroll</button>
</div>
</div>
<div class="field"><label>Quick Presets</label>
<div style="display:flex;gap:4px;flex-wrap:wrap">
<button class="tm-align" onclick="fxPreset('glass')">Glass</button>
<button class="tm-align" onclick="fxPreset('neumorph')">Neumorph</button>
<button class="tm-align" onclick="fxPreset('inset')">⬛ Inset</button>
<button class="tm-align" onclick="fxPreset('glow')">Glow</button>
<button class="tm-align" onclick="fxPreset('frost')">❄️ Frost</button>
<button class="tm-align" onclick="fxPreset('reset')">↺ Reset</button>
</div>
</div>
</template>
<template id="tmpl-shadow">
<div class="preview-box preview-lg" id="shad-preview-wrap">
<div id="shad-target" style="width:200px;height:140px;background:var(--bg4);border-radius:16px;transition:box-shadow .15s"></div>
</div>
<div class="fs" style="margin-top:20px"><div class="fst">Shadow Controls</div>
<div class="row">
<div class="field"><label>X Offset <span id="shad-x-val" style="color:var(--acc)">0px</span></label><input type="range" id="shad-x" min="-60" max="60" value="0" oninput="updateShadow()"></div>
<div class="field"><label>Y Offset <span id="shad-y-val" style="color:var(--acc)">8px</span></label><input type="range" id="shad-y" min="-60" max="60" value="8" oninput="updateShadow()"></div>
</div>
<div class="row">
<div class="field"><label>Blur <span id="shad-blur-val" style="color:var(--acc)">24px</span></label><input type="range" id="shad-blur" min="0" max="120" value="24" oninput="updateShadow()"></div>
<div class="field"><label>Spread <span id="shad-spread-val" style="color:var(--acc)">0px</span></label><input type="range" id="shad-spread" min="-40" max="40" value="0" oninput="updateShadow()"></div>
</div>
<div class="row">
<div class="field"><label>Color</label><div style="display:flex;gap:8px;align-items:center"><input type="color" id="shad-color" value="#000000" oninput="updateShadow()"><input type="text" id="shad-color-t" value="#000000" style="flex:1" oninput="document.getElementById('shad-color').value=this.value;updateShadow()"></div></div>
<div class="field"><label>Opacity <span id="shad-op-val" style="color:var(--acc)">0.25</span></label><input type="range" id="shad-op" min="0" max="100" value="25" oninput="updateShadow()"></div>
</div>
<div class="field"><label>Presets</label><div class="chips" id="shad-presets">
<div class="chip" data-v="subtle" onclick="shadowPreset('subtle')">Subtle</div>
<div class="chip" data-v="medium" onclick="shadowPreset('medium')">Medium</div>
<div class="chip" data-v="heavy" onclick="shadowPreset('heavy')">Heavy</div>
<div class="chip" data-v="neon" onclick="shadowPreset('neon')">Neon Glow</div>
<div class="chip" data-v="layered" onclick="shadowPreset('layered')">Layered</div>
<div class="chip" data-v="inset" onclick="shadowPreset('inset')">Inset</div>
</div></div>
</div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('shad-out',this)">Copy</button></div><div class="output-body" id="shad-out"></div></div>
</template>

<template id="tmpl-glass">
<div class="preview-box preview-lg" id="glass-preview-wrap" style="background:linear-gradient(135deg,#a855f7,#ec4899,#06b6d4);position:relative;overflow:hidden">
<div style="position:absolute;top:20px;left:30px;width:80px;height:80px;background:rgba(255,255,255,.15);border-radius:50%"></div>
<div style="position:absolute;bottom:30px;right:40px;width:120px;height:60px;background:rgba(255,255,255,.1);border-radius:12px"></div>
<div id="glass-target" style="width:280px;padding:28px;border-radius:16px;z-index:2;text-align:center">
<div style="font-family:var(--head);font-weight:700;font-size:18px;margin-bottom:6px">Glass Card</div>
<div style="font-size:12px;color:rgba(255,255,255,.7)">Adjust the sliders below to customize the frosted glass effect</div>
</div>
</div>
<div class="fs" style="margin-top:20px"><div class="fst">Controls</div>
<div class="row">
<div class="field"><label>Blur <span id="glass-blur-val" style="color:var(--acc)">12px</span></label><input type="range" id="glass-blur" min="0" max="40" value="12" oninput="updateGlass()"></div>
<div class="field"><label>Opacity <span id="glass-op-val" style="color:var(--acc)">0.15</span></label><input type="range" id="glass-op" min="0" max="100" value="15" oninput="updateGlass()"></div>
</div>
<div class="row">
<div class="field"><label>Border Opacity <span id="glass-bdr-val" style="color:var(--acc)">0.2</span></label><input type="range" id="glass-bdr" min="0" max="100" value="20" oninput="updateGlass()"></div>
<div class="field"><label>Border Radius <span id="glass-rad-val" style="color:var(--acc)">16px</span></label><input type="range" id="glass-rad" min="0" max="40" value="16" oninput="updateGlass()"></div>
</div>
<div class="row">
<div class="field"><label>Glass Color</label><div class="chips" id="glass-clr" data-fn="updateGlass"><div class="chip on" data-v="white">White</div><div class="chip" data-v="dark">Dark</div><div class="chip" data-v="accent">Accent</div></div></div>
<div class="field"><label>Background</label><div class="chips" id="glass-bg" data-fn="updateGlass"><div class="chip on" data-v="gradient">Gradient</div><div class="chip" data-v="image">Mesh</div><div class="chip" data-v="dark">Dark</div></div></div>
</div>
</div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('glass-out',this)">Copy</button></div><div class="output-body" id="glass-out"></div></div>
</template>

<template id="tmpl-textmod">
<div class="mod-insert">
<button onclick="createBlock(100,100,300,50,'heading');setMode('select')">+ Heading</button>
<button onclick="createBlock(100,170,400,30,'text');setMode('select')">+ Paragraph</button>
<button onclick="createBlock(100,220,140,44,'button');setMode('select')">+ Button</button>
<button onclick="createBlock(100,280,120,28,'link');setMode('select')">+ Link</button>
</div>
<div class="field"><label>Font Family</label>
<select id="tm-font" onchange="tmApply()">
<option value="Inter">Inter</option>
<option value="DM Sans">DM Sans</option>
<option value="Syne" selected>Syne</option>
<option value="Space Grotesk">Space Grotesk</option>
<option value="Outfit">Outfit</option>
<option value="Poppins">Poppins</option>
<option value="Playfair Display">Playfair Display</option>
<option value="Libre Baskerville">Libre Baskerville</option>
<option value="Oswald">Oswald</option>
<option value="Bebas Neue">Bebas Neue</option>
<option value="Montserrat">Montserrat</option>
<option value="Lora">Lora</option>
<option value="Nunito">Nunito</option>
<option value="Work Sans">Work Sans</option>
<option value="Raleway">Raleway</option>
<option value="Crimson Pro">Crimson Pro</option>
<option value="Source Code Pro">Source Code Pro</option>
<option value="JetBrains Mono">JetBrains Mono</option>
<option value="system-ui,sans-serif">System UI</option>
</select>
</div>
<div class="row">
<div class="field"><label>Size <span id="tm-size-v" style="color:var(--acc)">16px</span></label><div style="display:flex;align-items:center;gap:4px"><button class="abtn" onclick="stepRange('tm-size',-1)" style="padding:2px 8px;font-size:12px;font-weight:800;min-height:28px">−</button><input type="range" id="tm-size" min="8" max="120" value="16" oninput="tmApply()" style="flex:1"><button class="abtn" onclick="stepRange('tm-size',1)" style="padding:2px 8px;font-size:12px;font-weight:800;min-height:28px">+</button></div></div>
<div class="field"><label>Weight</label>
<select id="tm-weight" onchange="tmApply()" style="width:100%">
<option value="300">Light</option>
<option value="400">Regular</option>
<option value="500">Medium</option>
<option value="600">Semi Bold</option>
<option value="700" selected>Bold</option>
<option value="800">Extra Bold</option>
<option value="900">Black</option>
</select>
</div>
</div>
<div class="row">
<div class="field"><label>Line Height <span id="tm-lh-v" style="color:var(--acc)">1.5</span></label><div style="display:flex;align-items:center;gap:4px"><button class="abtn" onclick="stepRange('tm-lh',-1)" style="padding:2px 8px;font-size:12px;font-weight:800;min-height:28px">−</button><input type="range" id="tm-lh" min="8" max="30" value="15" oninput="tmApply()" style="flex:1"><button class="abtn" onclick="stepRange('tm-lh',1)" style="padding:2px 8px;font-size:12px;font-weight:800;min-height:28px">+</button></div></div>
<div class="field"><label>Letter Space <span id="tm-ls-v" style="color:var(--acc)">0px</span></label><div style="display:flex;align-items:center;gap:4px"><button class="abtn" onclick="stepRange('tm-ls',-1)" style="padding:2px 8px;font-size:12px;font-weight:800;min-height:28px">−</button><input type="range" id="tm-ls" min="-5" max="20" value="0" oninput="tmApply()" style="flex:1"><button class="abtn" onclick="stepRange('tm-ls',1)" style="padding:2px 8px;font-size:12px;font-weight:800;min-height:28px">+</button></div></div>
</div>
<div class="field"><label>Color</label>
<div style="display:flex;gap:6px;align-items:center">
<input type="color" id="tm-color" value="#f0f0f5" oninput="tmApply()" style="width:32px;height:24px;border-radius:4px;padding:1px">
<input type="text" id="tm-color-hex" value="#f0f0f5" oninput="document.getElementById('tm-color').value=this.value;tmApply()" style="flex:1;font-family:var(--mono);font-size:10px">
<div style="display:flex;gap:3px" id="tm-color-swatches">
<div class="tm-swatch" style="background:#f0f0f5" onclick="tmSetColor('#f0f0f5')"></div>
<div class="tm-swatch" style="background:#a855f7" onclick="tmSetColor('#a855f7')"></div>
<div class="tm-swatch" style="background:#ec4899" onclick="tmSetColor('#ec4899')"></div>
<div class="tm-swatch" style="background:#06b6d4" onclick="tmSetColor('#06b6d4')"></div>
<div class="tm-swatch" style="background:rgba(255,255,255,.5)" onclick="tmSetColor('rgba(255,255,255,.5)')"></div>
</div>
</div>
</div>
<div class="field"><label>Align</label>
<div style="display:flex;gap:4px">
<button class="tm-align active" data-v="left" onclick="tmAlign(this)">⫷</button>
<button class="tm-align" data-v="center" onclick="tmAlign(this)">☰</button>
<button class="tm-align" data-v="right" onclick="tmAlign(this)">⫸</button>
</div>
</div>
<div class="field"><label>Transform</label>
<div style="display:flex;gap:4px">
<button class="tm-align" data-v="none" onclick="tmTransform(this)">—</button>
<button class="tm-align" data-v="uppercase" onclick="tmTransform(this)">AB</button>
<button class="tm-align" data-v="lowercase" onclick="tmTransform(this)">ab</button>
<button class="tm-align" data-v="capitalize" onclick="tmTransform(this)">Ab</button>
</div>
</div>
<div class="field"><label>Text Gradient</label>
<div style="display:flex;gap:4px;align-items:center">
<input type="checkbox" id="tm-grad-on" onchange="tmApply()">
<input type="color" id="tm-grad-c1" value="#a855f7" oninput="tmApply()" style="width:24px;height:20px;border-radius:3px;padding:1px">
<span style="font-size:8px;color:var(--dim)">→</span>
<input type="color" id="tm-grad-c2" value="#ec4899" oninput="tmApply()" style="width:24px;height:20px;border-radius:3px;padding:1px">
<input type="range" id="tm-grad-angle" min="0" max="360" value="135" oninput="document.getElementById('tm-grad-angle-v').textContent=this.value+'°';tmApply()" style="flex:1">
<span id="tm-grad-angle-v" style="font-size:8px;color:var(--acc);font-family:var(--mono);min-width:24px">135°</span>
</div>
</div>
<div class="field"><label>Text Shadow</label>
<div style="display:flex;gap:4px;align-items:center">
<input type="checkbox" id="tm-shad-on" onchange="tmApply()">
<input type="range" id="tm-shad-blur" min="0" max="40" value="10" oninput="tmApply()" style="flex:1">
<input type="color" id="tm-shad-color" value="#a855f7" oninput="tmApply()" style="width:24px;height:20px;border-radius:3px;padding:1px">
</div>
</div>
<div class="field"><label>Opacity <span id="tm-op-v" style="color:var(--acc)">1</span></label><input type="range" id="tm-op" min="0" max="100" value="100" oninput="tmApply()"></div>
</template>
<template id="tmpl-type">
<div class="row">
<div class="field"><label>Heading Font</label><select id="type-h-font" onchange="updateType()"><option>Syne</option><option>Playfair Display</option><option>Space Grotesk</option><option>Outfit</option><option>Libre Baskerville</option><option>Archivo Black</option><option>DM Serif Display</option><option>Oswald</option><option>Poppins</option><option>Bebas Neue</option><option>Merriweather</option><option>Montserrat</option><option>Lora</option><option>Raleway</option><option>Crimson Pro</option></select></div>
<div class="field"><label>Body Font</label><select id="type-b-font" onchange="updateType()"><option>DM Sans</option><option>Source Sans 3</option><option>Nunito</option><option>Work Sans</option><option>Lato</option><option>Open Sans</option><option>Rubik</option><option>IBM Plex Sans</option><option>Karla</option><option>Mulish</option><option>Cabin</option><option>Manrope</option></select></div>
</div>
<div class="row3">
<div class="field"><label>Heading Size <span id="type-hs-val" style="color:var(--acc)">48px</span></label><input type="range" id="type-hs" min="20" max="96" value="48" oninput="updateType()"></div>
<div class="field"><label>Body Size <span id="type-bs-val" style="color:var(--acc)">16px</span></label><input type="range" id="type-bs" min="10" max="32" value="16" oninput="updateType()"></div>
<div class="field"><label>Line Height <span id="type-lh-val" style="color:var(--acc)">1.6</span></label><input type="range" id="type-lh" min="10" max="30" value="16" oninput="updateType()"></div>
</div>
<div class="row">
<div class="field"><label>Weight</label><div class="chips" id="type-wt" data-fn="updateType"><div class="chip" data-v="400">Regular</div><div class="chip" data-v="500">Medium</div><div class="chip on" data-v="700">Bold</div><div class="chip" data-v="900">Black</div></div></div>
<div class="field"><label>Letter Spacing <span id="type-ls-val" style="color:var(--acc)">0px</span></label><input type="range" id="type-ls" min="-5" max="20" value="0" oninput="updateType()"></div>
</div>
<div class="preview-box preview-lg" style="flex-direction:column;align-items:flex-start;padding:32px" id="type-preview">
<div id="type-heading" style="margin-bottom:12px">The Quick Brown Fox</div>
<div id="type-body">Jumps over the lazy dog. Typography is the art and technique of arranging type to make written language legible, readable, and appealing when displayed.</div>
</div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('type-out',this)">Copy</button></div><div class="output-body" id="type-out"></div></div>
</template>

<template id="tmpl-pattern">
<div class="field"><label>Pattern</label><div class="chips" id="pat-type" data-fn="updatePattern">
<div class="chip on" data-v="dots">Dots</div><div class="chip" data-v="grid">Grid</div><div class="chip" data-v="diagonal">Diagonal</div><div class="chip" data-v="zigzag">Zigzag</div><div class="chip" data-v="checkerboard">Checker</div><div class="chip" data-v="triangles">Triangles</div><div class="chip" data-v="hexagons">Hexagons</div><div class="chip" data-v="waves">Waves</div>
</div></div>
<div class="row3">
<div class="field"><label>Size <span id="pat-size-val" style="color:var(--acc)">20px</span></label><input type="range" id="pat-size" min="5" max="80" value="20" oninput="updatePattern()"></div>
<div class="field"><label>Color</label><input type="color" id="pat-color" value="#a855f7" oninput="updatePattern()"></div>
<div class="field"><label>BG Color</label><input type="color" id="pat-bg" value="#0a0a0f" oninput="updatePattern()"></div>
</div>
<div class="field"><label>Opacity <span id="pat-op-val" style="color:var(--acc)">0.3</span></label><input type="range" id="pat-op" min="0" max="100" value="30" oninput="updatePattern()"></div>
<div class="preview-box preview-full" id="pat-preview" style="min-height:200px"></div>
<div class="actions"><button class="btn btn-primary" onclick="applyPattern()">Apply</button><button class="btn btn-secondary" onclick="insertPattern()">+ Insert</button><button class="btn btn-secondary" onclick="copyFrom('pat-out',this)">Copy CSS</button></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('pat-out',this)">Copy</button></div><div class="output-body" id="pat-out"></div></div>
</template>

<template id="tmpl-texture">
<div class="field"><label>Texture Type</label><div class="chips" id="tex-type" data-fn="genTexture">
<div class="chip on" data-v="marble">Marble</div><div class="chip" data-v="wood">Wood</div><div class="chip" data-v="stone">Stone</div><div class="chip" data-v="crack">Cracks</div><div class="chip" data-v="voronoi">Voronoi</div><div class="chip" data-v="organic">Organic</div><div class="chip" data-v="crystal">Crystal</div><div class="chip" data-v="lava">Lava</div>
</div></div>
<div class="row">
<div class="field"><label>Scale <span id="tex-scale-v" style="color:var(--acc)">1.0</span></label><input type="range" id="tex-scale" min="5" max="50" value="10" oninput="genTexture()"></div>
<div class="field"><label>Detail <span id="tex-detail-v" style="color:var(--acc)">4</span></label><input type="range" id="tex-detail" min="1" max="8" value="4" oninput="genTexture()"></div>
</div>
<div class="row">
<div class="field"><label>Contrast <span id="tex-contrast-v" style="color:var(--acc)">1.0</span></label><input type="range" id="tex-contrast" min="5" max="30" value="10" oninput="genTexture()"></div>
<div class="field"><label>Opacity <span id="tex-op-v" style="color:var(--acc)">0.5</span></label><input type="range" id="tex-op" min="0" max="100" value="50" oninput="genTexture()"></div>
</div>
<div class="row3">
<div class="field"><label>Color 1</label><input type="color" id="tex-c1" value="#a855f7" oninput="genTexture()"></div>
<div class="field"><label>Color 2</label><input type="color" id="tex-c2" value="#1a1a2e" oninput="genTexture()"></div>
<div class="field"><label>BG</label><input type="color" id="tex-bg" value="#0a0a12" oninput="genTexture()"></div>
</div>
<canvas id="tex-canvas" width="400" height="260" style="width:100%;border-radius:12px;border:1px solid var(--bdr)"></canvas>
<div class="actions">
<button class="btn btn-primary" onclick="applyTexture()">Apply</button>
<button class="btn btn-secondary" onclick="insertTexture()">+ Insert</button>
<button class="btn btn-secondary" onclick="randomizeTexture()">Randomize</button>
</div>
<div class="output"><div class="output-bar"><span>Data URL</span><button class="btn btn-copy btn-sm" onclick="copyFrom('tex-out',this)">Copy</button></div><div class="output-body" id="tex-out" style="max-height:40px;overflow:hidden;font-size:8px"></div></div>
</template>

<template id="tmpl-noise">
<div class="field"><label>Texture</label><div class="chips" id="noise-type" data-fn="updateNoise">
<div class="chip on" data-v="grain">Film Grain</div><div class="chip" data-v="noise">Digital Noise</div><div class="chip" data-v="paper">Paper</div><div class="chip" data-v="fabric">Fabric</div>
</div></div>
<div class="row3">
<div class="field"><label>Intensity <span id="noise-int-val" style="color:var(--acc)">0.5</span></label><input type="range" id="noise-int" min="0" max="100" value="50" oninput="updateNoise()"></div>
<div class="field"><label>Scale <span id="noise-sc-val" style="color:var(--acc)">100%</span></label><input type="range" id="noise-sc" min="20" max="300" value="100" oninput="updateNoise()"></div>
<div class="field"><label>BG Color</label><input type="color" id="noise-bg" value="#1a1a26" oninput="updateNoise()"></div>
</div>
<div class="preview-box preview-full" id="noise-preview" style="min-height:200px"></div>
<div class="actions"><button class="btn btn-primary" onclick="insertNoise()">+ Insert</button><button class="btn btn-secondary" onclick="copyFrom('noise-out',this)">Copy CSS</button></div>
<div class="output"><div class="output-bar"><span>CSS + SVG</span><button class="btn btn-copy btn-sm" onclick="copyFrom('noise-out',this)">Copy</button></div><div class="output-body" id="noise-out"></div></div>
</template>

<template id="tmpl-mesh">
<div class="row4">
<div class="field"><label>Color 1</label><input type="color" id="mesh-c1" value="#a855f7" oninput="updateMesh()"></div>
<div class="field"><label>Color 2</label><input type="color" id="mesh-c2" value="#ec4899" oninput="updateMesh()"></div>
<div class="field"><label>Color 3</label><input type="color" id="mesh-c3" value="#06b6d4" oninput="updateMesh()"></div>
<div class="field"><label>Color 4</label><input type="color" id="mesh-c4" value="#10b981" oninput="updateMesh()"></div>
</div>
<div class="preview-box preview-full" id="mesh-preview" style="min-height:260px;border-radius:16px"></div>
<div class="actions"><button class="btn btn-primary" onclick="applyMesh()">Apply</button><button class="btn btn-secondary" onclick="insertMesh()">+ Insert</button><button class="btn btn-secondary" onclick="randomMesh()">Random</button></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('mesh-out',this)">Copy</button></div><div class="output-body" id="mesh-out"></div></div>
</template>

<template id="tmpl-sizes">
<div class="field"><label>Filter</label><div class="chips" id="size-filter" data-fn="renderSizes">
<div class="chip on" data-v="all">All</div><div class="chip" data-v="social">Social</div><div class="chip" data-v="video">Video</div><div class="chip" data-v="print">Print</div><div class="chip" data-v="web">Web</div>
</div></div>
<div id="sizes-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:16px"></div>
</template>

<template id="tmpl-contrast">
<div class="row">
<div class="field"><label>Text Color</label><div style="display:flex;gap:8px;align-items:center"><input type="color" id="con-fg" value="#ffffff" oninput="updateContrast()"><input type="text" id="con-fg-t" value="#ffffff" style="flex:1" oninput="document.getElementById('con-fg').value=this.value;updateContrast()"></div></div>
<div class="field"><label>Background</label><div style="display:flex;gap:8px;align-items:center"><input type="color" id="con-bg" value="#1a1a26" oninput="updateContrast()"><input type="text" id="con-bg-t" value="#1a1a26" style="flex:1" oninput="document.getElementById('con-bg').value=this.value;updateContrast()"></div></div>
</div>
<button class="btn btn-secondary btn-sm" onclick="const a=gv('con-fg');document.getElementById('con-fg').value=gv('con-bg');document.getElementById('con-bg').value=a;document.getElementById('con-fg-t').value=gv('con-fg');document.getElementById('con-bg-t').value=gv('con-bg');updateContrast()" style="margin-bottom:16px">Swap</button>
<div class="preview-box preview-lg" id="con-preview" style="flex-direction:column;gap:8px;padding:32px">
<div id="con-large" style="font-size:24px;font-weight:700;font-family:var(--head)">Large Text (24px)</div>
<div id="con-normal" style="font-size:16px">Normal body text at 16px for readability testing</div>
<div id="con-small" style="font-size:12px">Small text at 12px — fine print and captions</div>
</div>
<div class="score-grid" style="margin-top:16px" id="con-results"></div>
</template>

<template id="tmpl-colorconv">
<div class="row">
<div class="field"><label>Pick a Color</label><input type="color" id="cc-picker" value="#a855f7" oninput="convertColor(this.value)" style="width:100%;height:60px"></div>
<div class="field"><label>Or Enter HEX</label><input type="text" id="cc-hex" value="#a855f7" oninput="convertColor(this.value)"></div>
</div>
<div class="preview-box" id="cc-preview" style="min-height:80px;border-radius:12px;margin-bottom:16px"></div>
<div class="score-grid" id="cc-results"></div>
</template>

<template id="tmpl-radius">
<div class="preview-box preview-lg" style="padding:40px"><div id="rad-target" style="width:200px;height:140px;background:linear-gradient(135deg,var(--acc),var(--pink));transition:border-radius .2s"></div></div>
<div class="row" style="margin-top:16px">
<div class="field"><label>Top Left <span id="rad-tl-val" style="color:var(--acc)">16px</span></label><input type="range" id="rad-tl" min="0" max="100" value="16" oninput="updateRadius()"></div>
<div class="field"><label>Top Right <span id="rad-tr-val" style="color:var(--acc)">16px</span></label><input type="range" id="rad-tr" min="0" max="100" value="16" oninput="updateRadius()"></div>
</div>
<div class="row">
<div class="field"><label>Bottom Right <span id="rad-br-val" style="color:var(--acc)">16px</span></label><input type="range" id="rad-br" min="0" max="100" value="16" oninput="updateRadius()"></div>
<div class="field"><label>Bottom Left <span id="rad-bl-val" style="color:var(--acc)">16px</span></label><input type="range" id="rad-bl" min="0" max="100" value="16" oninput="updateRadius()"></div>
</div>
<div class="field"><label>Presets</label><div class="chips" id="rad-presets">
<div class="chip" onclick="setRadius(16,16,16,16)">Rounded</div><div class="chip" onclick="setRadius(50,50,50,50)">Pill</div><div class="chip" onclick="setRadius(0,0,0,0)">Sharp</div><div class="chip" onclick="setRadius(30,0,30,0)">Leaf</div><div class="chip" onclick="setRadius(50,0,50,0)">Blob</div><div class="chip" onclick="setRadius(0,20,0,20)">Slant</div>
</div></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('rad-out',this)">Copy</button></div><div class="output-body" id="rad-out"></div></div>
</template>

<template id="tmpl-filters">
<div class="preview-box preview-lg" style="padding:20px"><div id="filter-target" style="width:260px;height:160px;background:linear-gradient(135deg,#a855f7,#ec4899,#06b6d4);border-radius:16px;display:flex;align-items:center;justify-content:center;font-family:var(--head);font-size:20px;font-weight:700;transition:filter .15s">Preview</div></div>
<div class="row" style="margin-top:16px">
<div class="field"><label>Blur <span id="f-blur-v" style="color:var(--acc)">0px</span></label><input type="range" id="f-blur" min="0" max="20" value="0" oninput="updateFilters()"></div>
<div class="field"><label>Brightness <span id="f-bright-v" style="color:var(--acc)">100%</span></label><input type="range" id="f-bright" min="0" max="300" value="100" oninput="updateFilters()"></div>
</div>
<div class="row">
<div class="field"><label>Contrast <span id="f-contrast-v" style="color:var(--acc)">100%</span></label><input type="range" id="f-contrast" min="0" max="300" value="100" oninput="updateFilters()"></div>
<div class="field"><label>Saturate <span id="f-sat-v" style="color:var(--acc)">100%</span></label><input type="range" id="f-sat" min="0" max="300" value="100" oninput="updateFilters()"></div>
</div>
<div class="row">
<div class="field"><label>Hue Rotate <span id="f-hue-v" style="color:var(--acc)">0°</span></label><input type="range" id="f-hue" min="0" max="360" value="0" oninput="updateFilters()"></div>
<div class="field"><label>Grayscale <span id="f-gray-v" style="color:var(--acc)">0%</span></label><input type="range" id="f-gray" min="0" max="100" value="0" oninput="updateFilters()"></div>
</div>
<div class="row">
<div class="field"><label>Sepia <span id="f-sepia-v" style="color:var(--acc)">0%</span></label><input type="range" id="f-sepia" min="0" max="100" value="0" oninput="updateFilters()"></div>
<div class="field"><label>Invert <span id="f-inv-v" style="color:var(--acc)">0%</span></label><input type="range" id="f-inv" min="0" max="100" value="0" oninput="updateFilters()"></div>
</div>
<button class="btn btn-secondary btn-sm" onclick="document.querySelectorAll('#tool-filters input[type=range]').forEach(r=>{r.value=r.id==='f-bright'||r.id==='f-contrast'||r.id==='f-sat'?100:0});updateFilters()" style="margin-top:8px">↻ Reset All</button>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('filter-out',this)">Copy</button></div><div class="output-body" id="filter-out"></div></div>
</template>

<template id="tmpl-textgrad">
<div class="field"><label>Your Text</label><input type="text" id="tg-text" value="Gradient Text" oninput="updateTextGrad()"></div>
<div class="row">
<div class="field"><label>Color 1</label><input type="color" id="tg-c1" value="#a855f7" oninput="updateTextGrad()"></div>
<div class="field"><label>Color 2</label><input type="color" id="tg-c2" value="#ec4899" oninput="updateTextGrad()"></div>
</div>
<div class="row">
<div class="field"><label>Color 3 (optional)</label><input type="color" id="tg-c3" value="#06b6d4"><label style="margin-top:4px"><input type="checkbox" id="tg-c3on" onchange="updateTextGrad()"> Enable</label></div>
<div class="field"><label>Angle <span id="tg-angle-val" style="color:var(--acc)">90°</span></label><input type="range" id="tg-angle" min="0" max="360" value="90" oninput="updateTextGrad()"></div>
</div>
<div class="field"><label>Font Size <span id="tg-size-val" style="color:var(--acc)">64px</span></label><input type="range" id="tg-size" min="24" max="120" value="64" oninput="updateTextGrad()"></div>
<div class="preview-box preview-lg" style="padding:24px"><div id="tg-preview" style="font-family:var(--head);font-weight:800;text-align:center;line-height:1.2"></div></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('tg-out',this)">Copy</button></div><div class="output-body" id="tg-out"></div></div>
</template>

<template id="tmpl-icons">
<div class="field"><input type="text" id="icon-search" placeholder="🔍 Search icons..." oninput="renderIcons()"></div>
<div class="row">
<div class="field"><label>Size <span id="icon-sz-val" style="color:var(--acc)">24px</span></label><input type="range" id="icon-sz" min="16" max="64" value="24" oninput="renderIcons()"></div>
<div class="field"><label>Stroke Width <span id="icon-sw-val" style="color:var(--acc)">2</span></label><input type="range" id="icon-sw" min="1" max="4" value="2" step="0.5" oninput="renderIcons()"></div>
</div>
<div id="icon-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(64px,1fr));gap:6px;margin-top:8px;max-height:300px;overflow-y:auto"></div>
</template>

<template id="tmpl-blob">
<div class="row3">
<div class="field"><label>Complexity <span id="blob-comp-val" style="color:var(--acc)">6</span></label><input type="range" id="blob-comp" min="3" max="12" value="6" oninput="genBlob()"></div>
<div class="field"><label>Randomness <span id="blob-rand-val" style="color:var(--acc)">50%</span></label><input type="range" id="blob-rand" min="10" max="100" value="50" oninput="genBlob()"></div>
<div class="field"><label>Fill Color</label><input type="color" id="blob-fill" value="#a855f7" oninput="genBlob()"></div>
</div>
<div class="preview-box preview-lg" style="padding:20px"><svg id="blob-svg" viewBox="0 0 200 200" width="240" height="240"></svg></div>
<div class="actions"><button class="btn btn-primary" onclick="insertBlob()">+ Insert</button><button class="btn btn-secondary" onclick="genBlob()">Randomize</button><button class="btn btn-secondary" onclick="copyFrom('blob-out',event.target)">Copy SVG</button></div>
<div class="output"><div class="output-bar"><span>SVG</span><button class="btn btn-copy btn-sm" onclick="copyFrom('blob-out',this)">Copy</button></div><div class="output-body" id="blob-out"></div></div>
</template>

<template id="tmpl-wave">
<div class="row">
<div class="field"><label>Frequency <span id="wave-freq-val" style="color:var(--acc)">2.0</span></label><input type="range" id="wave-freq" min="5" max="80" value="20" oninput="genWave()"></div>
<div class="field"><label>Amplitude <span id="wave-amp-val" style="color:var(--acc)">30px</span></label><input type="range" id="wave-amp" min="0" max="100" value="30" oninput="genWave()"></div>
</div>
<div class="row">
<div class="field"><label>Phase <span id="wave-phase-val" style="color:var(--acc)">0°</span></label><input type="range" id="wave-phase" min="0" max="360" value="0" oninput="genWave()"></div>
<div class="field"><label>Y Offset <span id="wave-yoff-val" style="color:var(--acc)">50%</span></label><input type="range" id="wave-yoff" min="10" max="90" value="50" oninput="genWave()"></div>
</div>
<div class="row3">
<div class="field"><label>Height <span id="wave-h-val" style="color:var(--acc)">150px</span></label><input type="range" id="wave-h" min="60" max="300" value="150" oninput="genWave()"></div>
<div class="field"><label>Layers <span id="wave-n-val" style="color:var(--acc)">2</span></label><input type="range" id="wave-n" min="1" max="4" value="2" oninput="genWave()"></div>
<div class="field"><label>Color</label><input type="color" id="wave-color" value="#a855f7" oninput="genWave()"></div>
</div>
<div class="row">
<div class="field"><label>Waveform</label><select id="wave-style" onchange="genWave()"><option value="sine">Sine</option><option value="triangle">Triangle</option><option value="square">Square</option><option value="sawtooth">Sawtooth</option></select></div>
<div class="field"><label>Flip</label><select id="wave-flip" onchange="genWave()"><option value="no">Normal</option><option value="flipY">Flip ↕</option><option value="flipX">Flip ↔</option><option value="flipXY">Flip Both</option><option value="rot90">Rotate 90°</option><option value="rot270">Rotate 270°</option></select></div>
</div>
<div style="background:var(--bg3);border:1px solid var(--bdr);border-radius:12px;overflow:hidden;margin-top:12px;line-height:0;position:relative" id="wave-preview"></div>
<div class="actions"><button class="btn btn-primary" onclick="insertWave()">+ Insert</button><button class="btn btn-secondary" onclick="randomizeWave()">Randomize</button></div>
<div class="output"><div class="output-bar"><span>SVG</span><button class="btn btn-copy btn-sm" onclick="copyFrom('wave-out',this)">Copy</button></div><div class="output-body" id="wave-out"></div></div>
</template>

<template id="tmpl-align">
<div class="field"><label>Position</label>
<div style="display:flex;gap:8px;align-items:start">
<div style="display:grid;grid-template-columns:repeat(3,28px);grid-template-rows:repeat(3,28px);gap:2px;flex-shrink:0">
<button class="tm-align" onclick="alignBlock('top');alignBlock('left')" title="Top Left" style="font-size:10px;padding:0">↖</button>
<button class="tm-align" onclick="alignBlock('top');alignBlock('centerH')" title="Top Center" style="font-size:10px;padding:0">↑</button>
<button class="tm-align" onclick="alignBlock('top');alignBlock('right')" title="Top Right" style="font-size:10px;padding:0">↗</button>
<button class="tm-align" onclick="alignBlock('centerV');alignBlock('left')" title="Middle Left" style="font-size:10px;padding:0">←</button>
<button class="tm-align" onclick="alignBlock('centerV');alignBlock('centerH')" title="Center" style="font-size:10px;padding:0;color:var(--acc)">+</button>
<button class="tm-align" onclick="alignBlock('centerV');alignBlock('right')" title="Middle Right" style="font-size:10px;padding:0">→</button>
<button class="tm-align" onclick="alignBlock('bottom');alignBlock('left')" title="Bottom Left" style="font-size:10px;padding:0">↙</button>
<button class="tm-align" onclick="alignBlock('bottom');alignBlock('centerH')" title="Bottom Center" style="font-size:10px;padding:0">↓</button>
<button class="tm-align" onclick="alignBlock('bottom');alignBlock('right')" title="Bottom Right" style="font-size:10px;padding:0">↘</button>
</div>
<div style="flex:1;display:grid;grid-template-columns:1fr 1fr;gap:3px">
<div><label style="font-size:7px;color:var(--dim);display:block">X</label><input type="number" id="al-x" value="0" oninput="setBlockPos()" style="width:100%;font-family:var(--mono);font-size:10px;text-align:center"></div>
<div><label style="font-size:7px;color:var(--dim);display:block">Y</label><input type="number" id="al-y" value="0" oninput="setBlockPos()" style="width:100%;font-family:var(--mono);font-size:10px;text-align:center"></div>
<div><label style="font-size:7px;color:var(--dim);display:block">W</label><input type="number" id="al-w" value="100" oninput="setBlockSize()" style="width:100%;font-family:var(--mono);font-size:10px;text-align:center"></div>
<div><label style="font-size:7px;color:var(--dim);display:block">H</label><input type="number" id="al-h" value="100" oninput="setBlockSize()" style="width:100%;font-family:var(--mono);font-size:10px;text-align:center"></div>
</div>
</div>
</div>
<div class="field"><label>Quick Size</label>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="sizeBlock('fullW')">Full W</button>
<button class="tm-align" onclick="sizeBlock('fullH')">Full H</button>
<button class="tm-align" onclick="sizeBlock('full')">Fill</button>
<button class="tm-align" onclick="sizeBlock('half')">½</button>
<button class="tm-align" onclick="sizeBlock('third')">⅓</button>
<button class="tm-align" onclick="sizeBlock('square')">1:1</button>
</div>
</div>
<div class="field"><label>Distribute All Blocks</label>
<div style="display:flex;gap:4px">
<button class="tm-align" onclick="distributeBlocks('h')" style="flex:1">↔ Horizontal</button>
<button class="tm-align" onclick="distributeBlocks('v')" style="flex:1">↕ Vertical</button>
</div>
</div>
</template>

<template id="tmpl-padmar">
<div class="field"><label>Padding</label>
<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:4px;align-items:end">
<div><label style="font-size:7px;color:var(--dim);text-align:center;display:block">Top</label><input type="number" id="pm-pt" value="0" min="0" oninput="pmApply()" style="width:100%;font-family:var(--mono);font-size:10px;text-align:center"></div>
<div><label style="font-size:7px;color:var(--dim);text-align:center;display:block">Right</label><input type="number" id="pm-pr" value="0" min="0" oninput="pmApply()" style="width:100%;font-family:var(--mono);font-size:10px;text-align:center"></div>
<div><label style="font-size:7px;color:var(--dim);text-align:center;display:block">Bottom</label><input type="number" id="pm-pb" value="0" min="0" oninput="pmApply()" style="width:100%;font-family:var(--mono);font-size:10px;text-align:center"></div>
<div><label style="font-size:7px;color:var(--dim);text-align:center;display:block">Left</label><input type="number" id="pm-pl" value="0" min="0" oninput="pmApply()" style="width:100%;font-family:var(--mono);font-size:10px;text-align:center"></div>
</div>
<div style="display:flex;gap:4px;margin-top:6px">
<button class="tm-align" onclick="pmPadAll(0)">0</button>
<button class="tm-align" onclick="pmPadAll(8)">8</button>
<button class="tm-align" onclick="pmPadAll(16)">16</button>
<button class="tm-align" onclick="pmPadAll(24)">24</button>
<button class="tm-align" onclick="pmPadAll(32)">32</button>
<button class="tm-align" onclick="pmPadAll(48)">48</button>
</div>
</div>
<div class="field"><label>Display</label>
<div style="display:flex;gap:4px;flex-wrap:wrap">
<button class="tm-align" onclick="pmDisplay('block')">Block</button>
<button class="tm-align" onclick="pmDisplay('flex')">Flex</button>
<button class="tm-align" onclick="pmDisplay('grid')">Grid</button>
<button class="tm-align" onclick="pmDisplay('inline-flex')">Inline Flex</button>
</div>
</div>
<div class="field" id="pm-flex-ctrls" style="display:none"><label>Flex Direction</label>
<div style="display:flex;gap:4px">
<button class="tm-align" onclick="pmFlex('row')">→ Row</button>
<button class="tm-align" onclick="pmFlex('column')">↓ Column</button>
<button class="tm-align" onclick="pmFlex('row-reverse')">← Row Rev</button>
<button class="tm-align" onclick="pmFlex('column-reverse')">↑ Col Rev</button>
</div>
</div>
<div class="field" id="pm-justify-ctrls" style="display:none"><label>Justify</label>
<div style="display:flex;gap:4px;flex-wrap:wrap">
<button class="tm-align" onclick="pmJustify('flex-start')">Start</button>
<button class="tm-align" onclick="pmJustify('center')">Center</button>
<button class="tm-align" onclick="pmJustify('flex-end')">End</button>
<button class="tm-align" onclick="pmJustify('space-between')">Between</button>
<button class="tm-align" onclick="pmJustify('space-around')">Around</button>
</div>
</div>
<div class="field" id="pm-items-ctrls" style="display:none"><label>Align Items</label>
<div style="display:flex;gap:4px">
<button class="tm-align" onclick="pmAlignItems('flex-start')">Start</button>
<button class="tm-align" onclick="pmAlignItems('center')">Center</button>
<button class="tm-align" onclick="pmAlignItems('flex-end')">End</button>
<button class="tm-align" onclick="pmAlignItems('stretch')">Stretch</button>
</div>
</div>
<div class="field"><label>Gap <span id="pm-gap-v" style="color:var(--acc)">0px</span></label>
<input type="range" id="pm-gap" min="0" max="40" value="0" oninput="pmApply()">
</div>
<div class="field"><label>Overflow</label>
<div style="display:flex;gap:4px">
<button class="tm-align" onclick="pmOverflow('visible')">Visible</button>
<button class="tm-align" onclick="pmOverflow('hidden')">Hidden</button>
<button class="tm-align" onclick="pmOverflow('auto')">Scroll</button>
</div>
</div>
</template>

<template id="tmpl-pagesize">
<div class="field"><label>Canvas Size</label>
<div style="display:flex;gap:6px;align-items:end">
<div><label style="font-size:7px;color:var(--dim);display:block">Width</label><input type="number" id="pg-w" value="1280" oninput="resizePage()" style="width:80px;font-family:var(--mono);font-size:10px;text-align:center"></div>
<span style="font-size:10px;color:var(--dim);padding-bottom:4px">×</span>
<div><label style="font-size:7px;color:var(--dim);display:block">Height</label><input type="number" id="pg-h" value="900" oninput="resizePage()" style="width:80px;font-family:var(--mono);font-size:10px;text-align:center"></div>
</div>
</div>
<div class="field"><label>Page Templates</label>
<div style="display:flex;flex-direction:column;gap:3px">
<div style="font-size:7px;color:var(--dim);font-weight:700;letter-spacing:1px;margin-top:4px">WEBPAGE</div>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="scaffoldPage('landing')">Landing Page</button>
<button class="tm-align" onclick="scaffoldPage('hero')">Hero Section</button>
<button class="tm-align" onclick="scaffoldPage('blog')">Blog Post</button>
<button class="tm-align" onclick="scaffoldPage('portfolio')">Portfolio</button>
<button class="tm-align" onclick="scaffoldPage('email')">Email</button>
<button class="tm-align" onclick="scaffoldPage('pricing')">Pricing</button>
</div>
<div style="font-size:7px;color:var(--dim);font-weight:700;letter-spacing:1px;margin-top:8px">DEVICE</div>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="scaffoldPage('mobile')">Mobile App</button>
<button class="tm-align" onclick="scaffoldPage('tablet')">Tablet</button>
<button class="tm-align" onclick="scaffoldPage('desktop')">Desktop HD</button>
</div>
<div style="font-size:7px;color:var(--dim);font-weight:700;letter-spacing:1px;margin-top:8px">SOCIAL</div>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="scaffoldPage('igpost')">IG Post</button>
<button class="tm-align" onclick="scaffoldPage('igstory')">IG Story</button>
<button class="tm-align" onclick="scaffoldPage('ogimage')">OG Image</button>
<button class="tm-align" onclick="scaffoldPage('ytthumb')">YT Thumb</button>
</div>
<div style="font-size:7px;color:var(--dim);font-weight:700;letter-spacing:1px;margin-top:8px">BLANK</div>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="setPageSize(1280,900)">1280×900</button>
<button class="tm-align" onclick="setPageSize(1920,1080)">1920×1080</button>
<button class="tm-align" onclick="setPageSize(390,844)">iPhone</button>
<button class="tm-align" onclick="setPageSize(1080,1080)">Square</button>
</div>
</div>
</div>
</template>

<template id="tmpl-grid">
<div class="row3">
<div class="field"><label>Columns <span id="grid-cols-val" style="color:var(--acc)">3</span></label><input type="range" id="grid-cols" min="1" max="8" value="3" oninput="updateGrid()"></div>
<div class="field"><label>Rows <span id="grid-rows-val" style="color:var(--acc)">2</span></label><input type="range" id="grid-rows" min="1" max="6" value="2" oninput="updateGrid()"></div>
<div class="field"><label>Gap <span id="grid-gap-val" style="color:var(--acc)">12px</span></label><input type="range" id="grid-gap" min="0" max="40" value="12" oninput="updateGrid()"></div>
</div>
<div class="row">
<div class="field"><label>Column Sizing</label><select id="grid-col-size" onchange="updateGrid()"><option value="1fr">Equal (1fr)</option><option value="auto">Auto</option><option value="minmax(150px,1fr)">Responsive</option></select></div>
<div class="field"><label>Row Height</label><select id="grid-row-size" onchange="updateGrid()"><option value="auto">Auto</option><option value="100px">100px</option><option value="150px">150px</option><option value="1fr">Equal (1fr)</option></select></div>
</div>
<div class="preview-box" style="padding:16px;min-height:200px"><div id="grid-preview" style="width:100%"></div></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('grid-out',this)">Copy</button></div><div class="output-body" id="grid-out"></div></div>
</template>

<template id="tmpl-ratio">
<div class="row3">
<div class="field"><label>Width</label><input type="number" id="ar-w" value="1920" oninput="calcRatio('w')"></div>
<div class="field"><label>Height</label><input type="number" id="ar-h" value="1080" oninput="calcRatio('h')"></div>
<div class="field"><label>Ratio</label><input type="text" id="ar-ratio" value="16:9" readonly style="text-align:center;font-family:var(--mono);font-size:16px;font-weight:700;color:var(--acc)"></div>
</div>
<div class="fs" style="margin-top:20px"><div class="fst">Resize Keeping Ratio</div>
<div class="row">
<div class="field"><label>New Width</label><input type="number" id="ar-nw" placeholder="Enter width..." oninput="resizeRatio('w')"></div>
<div class="field"><label>New Height</label><input type="number" id="ar-nh" placeholder="Enter height..." oninput="resizeRatio('h')"></div>
</div></div>
<div class="field"><label>Common Ratios</label><div class="chips" id="ar-presets">
<div class="chip" onclick="setRatio(1,1)">1:1</div><div class="chip" onclick="setRatio(4,3)">4:3</div><div class="chip" onclick="setRatio(16,9)">16:9</div><div class="chip" onclick="setRatio(21,9)">21:9</div><div class="chip" onclick="setRatio(9,16)">9:16</div><div class="chip" onclick="setRatio(3,2)">3:2</div>
</div></div>
</template>

<template id="tmpl-units">
<div class="field"><label>Base Font Size <span id="unit-base-val" style="color:var(--acc)">16px</span></label><input type="range" id="unit-base" min="10" max="24" value="16" oninput="convertUnits()"></div>
<div class="field"><label>Viewport Width (for vw)</label><input type="number" id="unit-vw" value="1920" oninput="convertUnits()" style="width:160px"></div>
<div class="row">
<div class="field"><label>Enter Value</label><input type="number" id="unit-val" value="16" oninput="convertUnits()"></div>
<div class="field"><label>Unit</label><select id="unit-from" onchange="convertUnits()"><option>px</option><option>rem</option><option>em</option><option>pt</option><option>vw</option></select></div>
</div>
<div class="score-grid" id="unit-results" style="margin-top:16px"></div>
</template>

<template id="tmpl-placeholder">
<div class="row3">
<div class="field"><label>Width</label><input type="number" id="ph-w" value="600" oninput="updatePlaceholder()"></div>
<div class="field"><label>Height</label><input type="number" id="ph-h" value="400" oninput="updatePlaceholder()"></div>
<div class="field"><label>Text</label><input type="text" id="ph-text" value="" placeholder="auto: 600×400" oninput="updatePlaceholder()"></div>
</div>
<div class="row3">
<div class="field"><label>BG Color</label><input type="color" id="ph-bg" value="#2a2a38" oninput="updatePlaceholder()"></div>
<div class="field"><label>Text Color</label><input type="color" id="ph-fg" value="#8888a0" oninput="updatePlaceholder()"></div>
<div class="field"><label>Font Size <span id="ph-fs-val" style="color:var(--acc)">24px</span></label><input type="range" id="ph-fs" min="10" max="80" value="24" oninput="updatePlaceholder()"></div>
</div>
<div class="preview-box preview-lg" style="padding:16px"><canvas id="ph-canvas" style="max-width:100%;border-radius:8px"></canvas></div>
<div class="actions"><button class="btn btn-primary" onclick="downloadPlaceholder()">⬇ Download PNG</button></div>
</template>

<template id="tmpl-neumorph">
<div class="preview-box preview-lg" id="neu-wrap" style="padding:40px">
<div id="neu-target" style="width:200px;height:140px;border-radius:20px;display:flex;align-items:center;justify-content:center;font-family:var(--head);font-weight:700;color:var(--t3)">Element</div>
</div>
<div class="row" style="margin-top:16px">
<div class="field"><label>BG Color</label><input type="color" id="neu-bg" value="#1a1a26" oninput="updateNeu()"></div>
<div class="field"><label>Intensity <span id="neu-int-val" style="color:var(--acc)">15</span></label><input type="range" id="neu-int" min="2" max="40" value="15" oninput="updateNeu()"></div>
</div>
<div class="row">
<div class="field"><label>Blur <span id="neu-blur-val" style="color:var(--acc)">30px</span></label><input type="range" id="neu-blur" min="5" max="80" value="30" oninput="updateNeu()"></div>
<div class="field"><label>Distance <span id="neu-dist-val" style="color:var(--acc)">10px</span></label><input type="range" id="neu-dist" min="2" max="30" value="10" oninput="updateNeu()"></div>
</div>
<div class="field"><label>Shape</label><div class="chips" id="neu-shape" data-fn="updateNeu"><div class="chip on" data-v="flat">Flat</div><div class="chip" data-v="concave">Concave</div><div class="chip" data-v="convex">Convex</div><div class="chip" data-v="inset">Pressed</div></div></div>
<div class="field"><label>Radius <span id="neu-rad-val" style="color:var(--acc)">20px</span></label><input type="range" id="neu-rad" min="0" max="50" value="20" oninput="updateNeu()"></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('neu-out',this)">Copy</button></div><div class="output-body" id="neu-out"></div></div>
</template>

<template id="tmpl-animblock">
<div class="field"><label>Trigger</label>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align ab-trig active" data-v="load" onclick="abTrigger('load')">Load</button>
<button class="tm-align ab-trig" data-v="view" onclick="abTrigger('view')">In View</button>
<button class="tm-align ab-trig" data-v="view-loop" onclick="abTrigger('view-loop')">View Loop</button>
<button class="tm-align ab-trig" data-v="hover" onclick="abTrigger('hover')">Hover</button>
<button class="tm-align ab-trig" data-v="hover-loop" onclick="abTrigger('hover-loop')">Hover Loop</button>
<button class="tm-align ab-trig" data-v="click" onclick="abTrigger('click')">Click</button>
<button class="tm-align ab-trig" data-v="dblclick" onclick="abTrigger('dblclick')">Dbl Click</button>
<button class="tm-align ab-trig" data-v="scroll" onclick="abTrigger('scroll')">Scroll</button>
</div>
</div>
<div class="field"><label>Animation</label>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="abApply('fadeIn')">Fade In</button>
<button class="tm-align" onclick="abApply('fadeOut')">Fade Out</button>
<button class="tm-align" onclick="abApply('slideUp')">Slide Up</button>
<button class="tm-align" onclick="abApply('slideDown')">Slide Down</button>
<button class="tm-align" onclick="abApply('slideLeft')">Slide Left</button>
<button class="tm-align" onclick="abApply('slideRight')">Slide Right</button>
<button class="tm-align" onclick="abApply('scaleIn')">Scale In</button>
<button class="tm-align" onclick="abApply('bounce')">Bounce</button>
<button class="tm-align" onclick="abApply('pulse')">Pulse</button>
<button class="tm-align" onclick="abApply('shake')">Shake</button>
<button class="tm-align" onclick="abApply('rotate')">Rotate</button>
<button class="tm-align" onclick="abApply('flip')">Flip</button>
<button class="tm-align" onclick="abApply('swing')">Swing</button>
<button class="tm-align" onclick="abApply('rubberBand')">Rubber</button>
<button class="tm-align" onclick="abApply('jello')">Jello</button>
<button class="tm-align" onclick="abApply('heartbeat')">Heartbeat</button>
<button class="tm-align" onclick="abApply('flash')">Flash</button>
<button class="tm-align" onclick="abApply('float')">Float</button>
</div>
</div>
<div class="field"><label>Duration <span id="ab-dur-v" style="color:var(--acc)">0.6s</span></label>
<input type="range" id="ab-dur" min="1" max="40" value="6" oninput="abUpdate()">
</div>
<div class="field"><label>Delay <span id="ab-delay-v" style="color:var(--acc)">0s</span></label>
<input type="range" id="ab-delay" min="0" max="30" value="0" oninput="abUpdate()">
</div>
<div class="field"><label>Loop</label>
<div style="display:flex;gap:3px">
<button class="tm-align" onclick="abIter('1')">Once</button>
<button class="tm-align" onclick="abIter('2')">2×</button>
<button class="tm-align" onclick="abIter('3')">3×</button>
<button class="tm-align" onclick="abIter('infinite')">∞ Loop</button>
</div>
</div>
<div class="field"><label>Easing</label>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="abEase('ease')">Ease</button>
<button class="tm-align" onclick="abEase('ease-out')">Ease Out</button>
<button class="tm-align" onclick="abEase('ease-in-out')">In-Out</button>
<button class="tm-align" onclick="abEase('linear')">Linear</button>
<button class="tm-align" onclick="abEase('cubic-bezier(0.68,-0.55,0.27,1.55)')">Spring</button>
</div>
</div>
<div style="display:flex;gap:4px;margin-top:8px">
<button class="btn btn-primary" onclick="abReplay()" style="flex:1">▶ Replay</button>
<button class="btn btn-secondary" onclick="abRemove()" style="flex:1">✕ Remove</button>
</div>
</template>

<template id="tmpl-transitions">
<div class="field"><label>Hover Effect</label>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="trApply('scale','transform:scale(1.05)')">Grow</button>
<button class="tm-align" onclick="trApply('shrink','transform:scale(0.95)')">Shrink</button>
<button class="tm-align" onclick="trApply('lift','transform:translateY(-4px);box-shadow:0 8px 25px rgba(0,0,0,.3)')">Lift</button>
<button class="tm-align" onclick="trApply('glow','box-shadow:0 0 20px var(--p)')">Glow</button>
<button class="tm-align" onclick="trApply('bright','filter:brightness(1.2)')">Brighten</button>
<button class="tm-align" onclick="trApply('dim','opacity:0.7')">Dim</button>
<button class="tm-align" onclick="trApply('tiltL','transform:rotate(-3deg)')">Tilt Left</button>
<button class="tm-align" onclick="trApply('tiltR','transform:rotate(3deg)')">Tilt Right</button>
</div>
</div>
<div class="field"><label>Transition Speed <span id="tr-speed-v" style="color:var(--acc)">0.3s</span></label>
<input type="range" id="tr-speed" min="1" max="10" value="3" oninput="st('tr-speed-v',(this.value/10).toFixed(1)+'s');trUpdate()">
</div>
<div class="field"><label>Cursor on Hover</label>
<div style="display:flex;gap:3px;flex-wrap:wrap">
<button class="tm-align" onclick="trCursor('pointer')">Pointer</button>
<button class="tm-align" onclick="trCursor('grab')">Grab</button>
<button class="tm-align" onclick="trCursor('crosshair')">Crosshair</button>
<button class="tm-align" onclick="trCursor('default')">Default</button>
</div>
</div>
<div style="margin-top:8px">
<button class="btn btn-secondary" onclick="trRemove()" style="width:100%">✕ Remove Hover Effects</button>
</div>
</template>

<template id="tmpl-animate">
<div class="field"><label>Animation Preset</label><select id="anim-preset" onchange="updateAnim()">
<option value="fadeIn">Fade In</option><option value="fadeOut">Fade Out</option><option value="slideUp">Slide Up</option><option value="slideDown">Slide Down</option><option value="slideLeft">Slide Left</option><option value="slideRight">Slide Right</option>
<option value="scaleIn">Scale In</option><option value="scaleOut">Scale Out</option><option value="rotate">Rotate 360</option><option value="bounce">Bounce</option><option value="pulse">Pulse</option><option value="shake">Shake</option>
<option value="flip">Flip</option><option value="swing">Swing</option><option value="rubberBand">Rubber Band</option><option value="jello">Jello</option><option value="heartbeat">Heartbeat</option><option value="flash">Flash</option>
</select></div>
<div class="row3">
<div class="field"><label>Duration <span id="anim-dur-val" style="color:var(--acc)">0.6s</span></label><input type="range" id="anim-dur" min="1" max="30" value="6" oninput="updateAnim()"></div>
<div class="field"><label>Delay <span id="anim-delay-val" style="color:var(--acc)">0s</span></label><input type="range" id="anim-delay" min="0" max="20" value="0" oninput="updateAnim()"></div>
<div class="field"><label>Iterations</label><select id="anim-iter" onchange="updateAnim()"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="infinite">Infinite</option></select></div>
</div>
<div class="row">
<div class="field"><label>Easing</label><select id="anim-ease" onchange="updateAnim()"><option value="ease">ease</option><option value="ease-in">ease-in</option><option value="ease-out">ease-out</option><option value="ease-in-out">ease-in-out</option><option value="linear">linear</option><option value="cubic-bezier(0.68,-0.55,0.27,1.55)">spring</option></select></div>
<div class="field"><label>Fill Mode</label><select id="anim-fill" onchange="updateAnim()"><option value="forwards">forwards</option><option value="backwards">backwards</option><option value="both">both</option><option value="none">none</option></select></div>
</div>
<div class="preview-box preview-lg" style="padding:30px"><div id="anim-target" style="width:120px;height:80px;background:linear-gradient(135deg,var(--acc),var(--pink));border-radius:14px;display:flex;align-items:center;justify-content:center;font-family:var(--head);font-weight:700;font-size:14px">Preview</div></div>
<div class="actions"><button class="btn btn-primary" onclick="replayAnim()">▶ Replay</button></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('anim-out',this)">Copy</button></div><div class="output-body" id="anim-out"></div></div>
</template>

<template id="tmpl-cursor">
<div class="field"><label>Cursor Type</label><select id="cur-type" onchange="updateCursor()">
<option value="default">default</option><option value="pointer">pointer</option><option value="crosshair">crosshair</option><option value="move">move</option><option value="text">text</option><option value="wait">wait</option><option value="help">help</option><option value="not-allowed">not-allowed</option><option value="grab">grab</option><option value="grabbing">grabbing</option><option value="zoom-in">zoom-in</option><option value="zoom-out">zoom-out</option><option value="col-resize">col-resize</option><option value="row-resize">row-resize</option><option value="n-resize">n-resize</option><option value="e-resize">e-resize</option><option value="nesw-resize">nesw-resize</option><option value="nwse-resize">nwse-resize</option><option value="none">none (hidden)</option><option value="emoji">Custom Emoji</option>
</select></div>
<div class="field" id="cur-emoji-field" style="display:none"><label>Emoji / Text</label><input type="text" id="cur-emoji" value="→" oninput="updateCursor()" maxlength="2"></div>
<div class="field" id="cur-size-field" style="display:none"><label>Size <span id="cur-size-val" style="color:var(--acc)">32</span></label><input type="range" id="cur-size" min="16" max="64" value="32" oninput="updateCursor()"></div>
<div class="preview-box preview-lg" id="cur-preview" style="cursor:default;flex-direction:column;gap:8px">
<div style="font-family:var(--head);font-weight:700;font-size:18px">Hover here</div>
<div style="font-size:12px;color:var(--t3)">Move your cursor over this area to preview</div>
</div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('cur-out',this)">Copy</button></div><div class="output-body" id="cur-out"></div></div>
</template>

<template id="tmpl-clip">
<div class="field"><label>Shape Preset</label><select id="clip-preset" onchange="updateClip()">
<option value="triangle">Triangle</option><option value="trapezoid">Trapezoid</option><option value="parallelogram">Parallelogram</option><option value="rhombus">Rhombus</option><option value="pentagon">Pentagon</option><option value="hexagon">Hexagon</option><option value="octagon">Octagon</option><option value="star">Star</option>
<option value="arrow-right">Arrow Right</option><option value="arrow-left">Arrow Left</option><option value="chevron">Chevron</option><option value="cross">Cross</option><option value="frame">Frame</option>
<option value="circle">Circle</option><option value="ellipse">Ellipse</option><option value="inset">Inset/Rounded</option>
</select></div>
<div class="row" id="clip-inset-ctrls" style="display:none">
<div class="field"><label>Inset <span id="clip-inset-val" style="color:var(--acc)">10%</span></label><input type="range" id="clip-inset" min="0" max="45" value="10" oninput="updateClip()"></div>
<div class="field"><label>Radius <span id="clip-round-val" style="color:var(--acc)">10px</span></label><input type="range" id="clip-round" min="0" max="50" value="10" oninput="updateClip()"></div>
</div>
<div class="preview-box preview-lg" style="padding:20px"><div id="clip-target" style="width:260px;height:180px;background:linear-gradient(135deg,var(--acc),var(--pink),var(--cyan));transition:clip-path .3s"></div></div>
<div class="actions"><button class="btn btn-primary" onclick="applyClip()">Apply</button><button class="btn btn-secondary" onclick="insertClip()">+ Insert Shape</button><button class="btn btn-secondary" onclick="copyFrom('clip-out',event.target)">Copy CSS</button></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('clip-out',this)">Copy</button></div><div class="output-body" id="clip-out"></div></div>
</template>

<template id="tmpl-easing">
<div class="field"><label>Presets</label><div style="display:flex;flex-wrap:wrap;gap:6px">
<button class="btn btn-secondary btn-sm" onclick="setEase(0.25,0.1,0.25,1)">ease</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0.42,0,1,1)">ease-in</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0,0,0.58,1)">ease-out</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0.42,0,0.58,1)">ease-in-out</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0,0,1,1)">linear</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0.68,-0.55,0.27,1.55)">spring</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0.5,1.5,0.5,-0.5)">elastic</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0.76,0,0.24,1)">smooth</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0.22,1,0.36,1)">expo-out</button>
<button class="btn btn-secondary btn-sm" onclick="setEase(0.87,0,0.13,1)">expo-in-out</button>
</div></div>
<div class="row4" style="margin-top:12px">
<div class="field"><label>X1</label><input type="number" id="ez-x1" value="0.25" step="0.01" min="-0.5" max="1.5" oninput="drawEase()"></div>
<div class="field"><label>Y1</label><input type="number" id="ez-y1" value="0.1" step="0.01" min="-2" max="2" oninput="drawEase()"></div>
<div class="field"><label>X2</label><input type="number" id="ez-x2" value="0.25" step="0.01" min="-0.5" max="1.5" oninput="drawEase()"></div>
<div class="field"><label>Y2</label><input type="number" id="ez-y2" value="1" step="0.01" min="-2" max="2" oninput="drawEase()"></div>
</div>
<div class="preview-box" style="padding:20px;flex-direction:column;gap:16px">
<canvas id="ease-canvas" width="280" height="280" style="border-radius:8px"></canvas>
<div id="ease-ball-wrap" style="width:280px;height:30px;position:relative;background:var(--bg4);border-radius:15px;overflow:hidden"><div id="ease-ball" style="width:26px;height:26px;background:var(--acc);border-radius:50%;position:absolute;top:2px;left:2px;transition:left 1s"></div></div>
</div>
<div class="actions"><button class="btn btn-primary" onclick="playEase()">▶ Preview</button></div>
<div class="output"><div class="output-bar"><span>CSS</span><button class="btn btn-copy btn-sm" onclick="copyFrom('ease-out',this)">Copy</button></div><div class="output-body" id="ease-out"></div></div>
</template>

<template id="tmpl-spacing">
<div class="row3">
<div class="field"><label>Base Unit</label><input type="number" id="sp-base" value="8" min="1" max="20" oninput="genSpacing()"></div>
<div class="field"><label>Scale Type</label><select id="sp-type" onchange="genSpacing()"><option value="linear">Linear (×1,×2,×3...)</option><option value="fibonacci">Fibonacci</option><option value="golden">Golden Ratio (×1.618)</option><option value="power2">Power of 2</option></select></div>
<div class="field"><label>Steps</label><input type="number" id="sp-steps" value="10" min="4" max="16" oninput="genSpacing()"></div>
</div>
<div id="sp-preview" style="margin-top:16px"></div>
<div class="output"><div class="output-bar"><span>CSS Variables</span><button class="btn btn-copy btn-sm" onclick="copyFrom('sp-out',this)">Copy</button></div><div class="output-body" id="sp-out"></div></div>
</template>

<template id="tmpl-cbsim">
<div class="row">
<div class="field"><label>Color 1</label><input type="color" id="cb-c1" value="#a855f7" oninput="updateCBSim()"></div>
<div class="field"><label>Color 2</label><input type="color" id="cb-c2" value="#10b981" oninput="updateCBSim()"></div>
<div class="field"><label>Color 3</label><input type="color" id="cb-c3" value="#ef4444" oninput="updateCBSim()"></div>
<div class="field"><label>Color 4</label><input type="color" id="cb-c4" value="#f59e0b" oninput="updateCBSim()"></div>
</div>
<div id="cb-grid" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px"></div>
</template>

<template id="tmpl-breakpoint">
<div class="field"><label>Framework</label><select id="bp-fw" onchange="renderBreakpoints()"><option value="tailwind">Tailwind CSS</option><option value="bootstrap">Bootstrap</option><option value="custom">Custom / Common</option></select></div>
<div id="bp-grid" style="margin-top:16px"></div>
<div class="output"><div class="output-bar"><span>CSS Media Queries</span><button class="btn btn-copy btn-sm" onclick="copyFrom('bp-out',this)">Copy</button></div><div class="output-body" id="bp-out"></div></div>
</template>

<template id="tmpl-codeeditor">
<div style="display:flex;flex-direction:column;height:100%">
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
<div style="display:flex;gap:4px;align-items:center">
<button class="tm-align" onclick="codeSyncFrom()" title="Pull current canvas into editor" style="font-size:8px">⬇ Pull from Canvas</button>
<button class="tm-align" onclick="codeRun()" title="Push code into canvas" style="background:rgba(16,185,129,.15);color:#10b981;border-color:rgba(16,185,129,.3);font-size:8px">⬆ Push to Canvas</button>
</div>
<div style="display:flex;gap:3px;align-items:center">
<label style="font-size:8px;color:var(--dim);cursor:pointer;display:flex;align-items:center;gap:3px"><input type="checkbox" id="code-autosync" style="width:10px;height:10px"> Auto-sync</label>
<button class="tm-align" onclick="codeClear()" style="font-size:8px">Clear</button>
</div>
</div>
<textarea id="code-editor" spellcheck="false" oninput="codeEditorChanged()" style="flex:1;min-height:360px;background:#0d1117;color:#e6edf3;border:1px solid rgba(255,255,255,.08);border-radius:8px;padding:12px;font-family:'JetBrains Mono',monospace;font-size:11px;line-height:1.6;resize:none;tab-size:2;white-space:pre;overflow:auto" placeholder="Write HTML + CSS + JS, then Push to Canvas.
Or use the visual tools and Pull from Canvas to see generated code.

Auto-sync keeps both in sync automatically."></textarea>
<div style="display:flex;gap:3px;margin-top:6px;flex-wrap:wrap">
<button class="tm-align" onclick="codeSnippet('nav')">+ Nav</button>
<button class="tm-align" onclick="codeSnippet('hero')">+ Hero</button>
<button class="tm-align" onclick="codeSnippet('cards')">+ Cards</button>
<button class="tm-align" onclick="codeSnippet('cta')">+ CTA</button>
<button class="tm-align" onclick="codeSnippet('footer')">+ Footer</button>
<button class="tm-align" onclick="codeSnippet('form')">+ Form</button>
<button class="tm-align" onclick="codeSnippet('grid')">+ Grid</button>
</div>
<div id="code-console" style="margin-top:6px;background:#0d1117;border:1px solid rgba(255,255,255,.06);border-radius:6px;padding:8px;font-family:'JetBrains Mono',monospace;font-size:9px;color:rgba(255,255,255,.4);max-height:60px;overflow:auto;display:none"></div>
</div>
</template>

<template id="tmpl-expproject">
<div class="field"><label>Save Project</label>
<div style="font-size:9px;color:var(--dim);margin-bottom:8px">Save your full project (blocks, styles, theme, animations) as a .wdx file. Re-import anytime to continue editing.</div>
<div style="display:flex;gap:4px;align-items:center;margin-bottom:8px">
<input type="text" id="proj-name" value="my-project" placeholder="Project name" style="flex:1;font-size:10px;padding:4px 8px;background:var(--bg2);border:1px solid var(--bdr);border-radius:4px;color:var(--t2);font-family:var(--mono)">
<span style="font-size:9px;color:var(--dim)">.wdx</span>
</div>
<button class="btn btn-primary" onclick="projSave()" style="width:100%">⬇ Save Project</button>
</div>
<div class="field" style="margin-top:16px"><label>Load Project</label>
<div style="font-size:9px;color:var(--dim);margin-bottom:8px">Import a saved .wdx project file. This will replace your current canvas.</div>
<button class="btn btn-secondary" onclick="document.getElementById('proj-file').click()" style="width:100%">📂 Open Project File</button>
<input type="file" id="proj-file" accept=".wdx,.json" onchange="projLoad(this)" style="display:none">
</div>
<div class="field" style="margin-top:16px"><label>Import HTML</label>
<div style="font-size:9px;color:var(--dim);margin-bottom:8px">Import an existing .html file. Elements are converted to editable blocks.</div>
<button class="btn btn-secondary" onclick="document.getElementById('html-file').click()" style="width:100%">📄 Import .html File</button>
<input type="file" id="html-file" accept=".html,.htm" onchange="htmlImport(this)" style="display:none">
</div>
<div class="field" style="margin-top:16px"><label>Project Info</label>
<div id="proj-info" style="font-family:var(--mono);font-size:9px;color:var(--dim);line-height:1.8"></div>
</div>
</template>

<template id="tmpl-exphtml">
<div class="field"><label>Full Page HTML</label>
<div style="font-size:9px;color:var(--dim);margin-bottom:8px">Complete standalone HTML file with all styles, fonts, and animation triggers.</div>
<button class="btn btn-primary" onclick="expCopyHTML()" style="width:100%;margin-bottom:6px">Copy Full HTML</button>
<div style="position:relative">
<pre id="exp-html-out" style="background:var(--bg2);border:1px solid var(--bdr);border-radius:8px;padding:12px;font-family:var(--mono);font-size:9px;color:var(--t3);max-height:300px;overflow:auto;white-space:pre-wrap;word-break:break-all;line-height:1.5;margin:0"></pre>
</div>
</div>
</template>

<template id="tmpl-expcss">
<div class="field"><label>CSS Variables</label>
<button class="btn btn-secondary btn-sm" onclick="expCopyCSS('vars')" style="float:right;margin-top:-4px">Copy</button>
<pre id="exp-css-vars" style="background:var(--bg2);border:1px solid var(--bdr);border-radius:8px;padding:12px;font-family:var(--mono);font-size:9px;color:var(--t3);max-height:120px;overflow:auto;white-space:pre-wrap;margin:0;line-height:1.5"></pre>
</div>
<div class="field"><label>Block Styles</label>
<button class="btn btn-secondary btn-sm" onclick="expCopyCSS('blocks')" style="float:right;margin-top:-4px">Copy</button>
<pre id="exp-css-blocks" style="background:var(--bg2);border:1px solid var(--bdr);border-radius:8px;padding:12px;font-family:var(--mono);font-size:9px;color:var(--t3);max-height:200px;overflow:auto;white-space:pre-wrap;margin:0;line-height:1.5"></pre>
</div>
<div class="field"><label>Keyframes</label>
<button class="btn btn-secondary btn-sm" onclick="expCopyCSS('keyframes')" style="float:right;margin-top:-4px">Copy</button>
<pre id="exp-css-kf" style="background:var(--bg2);border:1px solid var(--bdr);border-radius:8px;padding:12px;font-family:var(--mono);font-size:9px;color:var(--t3);max-height:120px;overflow:auto;white-space:pre-wrap;margin:0;line-height:1.5"></pre>
</div>
</template>

<template id="tmpl-expdownload">
<div class="field"><label>Download</label>
<div style="font-size:9px;color:var(--dim);margin-bottom:12px">Download your design as a standalone file.</div>
<div style="display:flex;flex-direction:column;gap:6px">
<button class="btn btn-primary" onclick="expDownload('html')" style="width:100%">⬇ Download .html</button>
<button class="btn btn-secondary" onclick="expDownload('css')" style="width:100%">⬇ Download .css only</button>
</div>
</div>
<div class="field" style="margin-top:12px"><label>Page Info</label>
<div id="exp-info" style="font-family:var(--mono);font-size:9px;color:var(--dim);line-height:1.8"></div>
</div>
</template>

<template id="tmpl-favicon">
<div class="row3">
<div class="field"><label>Emoji / Letter</label><input type="text" id="fav-text" value="A" maxlength="2" oninput="genFavicon()"></div>
<div class="field"><label>BG Color</label><input type="color" id="fav-bg" value="#1a1a26" oninput="genFavicon()"></div>
<div class="field"><label>Shape</label><select id="fav-shape" onchange="genFavicon()"><option value="square">Square</option><option value="rounded">Rounded</option><option value="circle">Circle</option></select></div>
</div>
<div class="field"><label>Font Size <span id="fav-fs-val" style="color:var(--acc)">64px</span></label><input type="range" id="fav-fs" min="24" max="100" value="64" oninput="genFavicon()"></div>
<div style="display:flex;gap:16px;align-items:flex-end;margin-top:16px;flex-wrap:wrap">
<div style="text-align:center"><canvas id="fav-128" width="128" height="128" style="border-radius:8px;border:1px solid var(--bdr)"></canvas><div style="font-family:var(--mono);font-size:10px;color:var(--t4);margin-top:4px">128×128</div></div>
<div style="text-align:center"><canvas id="fav-64" width="64" height="64" style="border-radius:6px;border:1px solid var(--bdr)"></canvas><div style="font-family:var(--mono);font-size:10px;color:var(--t4);margin-top:4px">64×64</div></div>
<div style="text-align:center"><canvas id="fav-32" width="32" height="32" style="border-radius:4px;border:1px solid var(--bdr)"></canvas><div style="font-family:var(--mono);font-size:10px;color:var(--t4);margin-top:4px">32×32</div></div>
<div style="text-align:center"><canvas id="fav-16" width="16" height="16" style="border-radius:2px;border:1px solid var(--bdr)"></canvas><div style="font-family:var(--mono);font-size:10px;color:var(--t4);margin-top:4px">16×16</div></div>
</div>
<div class="actions" style="margin-top:16px"><button class="btn btn-primary" onclick="downloadFav()">⬇ Download 128px PNG</button></div>
</template>

<template id="tmpl-qr">
<div class="field"><label>Content</label><textarea id="qr-text" rows="2" placeholder="https://your-site.com" oninput="genQR()"></textarea></div>
<div class="row3">
<div class="field"><label>Size <span id="qr-size-val" style="color:var(--acc)">200px</span></label><input type="range" id="qr-size" min="100" max="400" value="200" oninput="genQR()"></div>
<div class="field"><label>FG Color</label><input type="color" id="qr-fg" value="#ffffff" oninput="genQR()"></div>
<div class="field"><label>BG Color</label><input type="color" id="qr-bg" value="#0a0a0f" oninput="genQR()"></div>
</div>
<div class="preview-box" style="padding:20px"><canvas id="qr-canvas"></canvas></div>
<div class="actions"><button class="btn btn-primary" onclick="downloadQR()">⬇ Download PNG</button></div>
</template>

<template id="tmpl-mockup">
<div class="field"><label>Device</label><select id="mock-device" onchange="updateMockup()"><option value="phone">iPhone / Phone</option><option value="laptop">Laptop</option><option value="tablet">Tablet</option><option value="watch">Watch</option><option value="monitor">Desktop Monitor</option></select></div>
<div class="row">
<div class="field"><label>Screen Content</label><select id="mock-content" onchange="updateMockup()"><option value="gradient">Gradient</option><option value="solid">Solid Color</option><option value="mesh">Mesh Gradient</option></select></div>
<div class="field"><label>Screen Color</label><input type="color" id="mock-color" value="#a855f7" oninput="updateMockup()"></div>
</div>
<div class="preview-box preview-lg" style="padding:24px;flex-direction:column;gap:8px" id="mock-preview"></div>
</template>

<template id="tmpl-cheat">
<div class="field"><label>Topic</label><select id="cheat-topic" onchange="renderCheat()"><option value="flex">Flexbox</option><option value="grid">Grid</option><option value="position">Position</option><option value="display">Display</option></select></div>
<div id="cheat-content" style="margin-top:16px"></div>
</template>

<!-- Config & Utils (load first) -->
<script src="config/modules.js"></script>
<script src="utils/helpers.js"></script>
<script src="utils/storage.js"></script>

<!-- Modules -->
<script src="modules/text.js"></script>
<script src="modules/color.js"></script>
<script src="modules/effects.js"></script>
<script src="modules/shape.js"></script>
<script src="modules/layout.js"></script>
<script src="modules/animate.js"></script>
<script src="modules/export.js"></script>
<script src="modules/code.js"></script>

<!-- Core Engine -->
<script src="modules/engine.js"></script>

</body>
</html>